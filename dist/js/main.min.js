"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var menuOpenBtns=document.querySelectorAll(".nav__mobile-menu-btn--open"),menuCloseBtn=document.querySelector(".nav__mobile-menu-btn--close"),mobileMenu=document.querySelector(".nav__menu"),menuItems=document.querySelectorAll(".nav__menu-item"),body=document.querySelector("body"),multiLangBtns=(menuOpenBtns.forEach(function(e){return e.addEventListener("click",function(){mobileMenu.classList.add("active"),e.classList.add("hide-btn"),menuCloseBtn.classList.add("show-btn"),body.classList.add("stop-scrolling"),langList.classList.remove("active-lang")})}),menuCloseBtn.addEventListener("click",function(){mobileMenu.classList.remove("active"),menuOpenBtns.forEach(function(e){return e.classList.remove("hide-btn")}),menuCloseBtn.classList.remove("show-btn"),body.classList.remove("stop-scrolling")}),menuItems.forEach(function(e){e.addEventListener("click",function(){mobileMenu.classList.remove("active"),menuOpenBtns.forEach(function(e){return e.classList.remove("hide-btn")}),menuCloseBtn.classList.remove("show-btn"),body.classList.remove("stop-scrolling")})}),document.querySelectorAll(".nav__more-lang-btn")),langList=document.querySelector(".nav__lang-list"),closeLang=(multiLangBtns.forEach(function(e){e.addEventListener("click",function(){langList.classList.toggle("active-lang"),mobileMenu.classList.remove("active"),menuOpenBtns.forEach(function(e){return e.classList.remove("hide-btn")}),menuCloseBtn.classList.remove("show-btn"),body.classList.remove("stop-scrolling")})}),function(){langList.classList.toggle("active-lang")}),gallerySlider=document.querySelector(".showreel__gallery-img-box"),buttons=document.querySelectorAll("[data-carousel-button]"),galleryBox=document.querySelector(".showreel__gallery-img-box"),showRellMobileBtns=(buttons.forEach(function(e){e.addEventListener("click",function(){var a="next"===e.dataset.carouselButton?1:-1,r=document.querySelectorAll(".showreel__position");r.forEach(function(e,t){var n=gallerySlider.querySelector("[data-slide-".concat(t,"]")),o=_toConsumableArray(r).indexOf(n)+a;(o=o<0?r.length-1:o)>r.length-1&&(o=0),r[o].dataset["slide-".concat(t)]=!0,delete n.dataset["slide-".concat(t)]})})}),document.querySelectorAll("[data-show-btn]")),nextBtn=document.querySelector('[data-show-btn="next"]'),prevBtn=document.querySelector('[data-show-btn="prev"]'),contentWidth=1600,accordeon=(showRellMobileBtns.forEach(function(o){o.addEventListener("click",function(){var e="next"===o.dataset.showBtn?1:-1,t=o.closest("[data-carousel]").querySelector("[data-carousel-imgs]"),n=t.querySelector("[data-active]"),e=_toConsumableArray(t.children).indexOf(n)+e;(e=e<0?t.children.length-1:e)>=t.children.length&&(e=0),t.children[e].dataset.active=!0,delete n.dataset.active})}),window.addEventListener("resize",function(){var e=window.innerWidth/contentWidth;galleryBox.style.transform=1<=e?"scale(1)":"scale(".concat(e,")")}),window.addEventListener("load",function(){var e=window.innerWidth/contentWidth;galleryBox.style.transform=1<=e?"scale(1)":"scale(".concat(e,")")}),document.querySelector(".questions__box-lists")),accordeonBtns=document.querySelectorAll(".questions__accordeon-box-content");function openAccordeonItems(){this.nextElementSibling.classList.contains("show-acc")?(this.nextElementSibling.classList.remove("show-acc"),this.lastElementChild.classList.remove("active")):(closeAccordeonItems(),this.nextElementSibling.classList.toggle("show-acc"),this.lastElementChild.classList.toggle("active"))}var multilang,closeAccordeonItems=function(){document.querySelectorAll(".questions__accordeon-info").forEach(function(e){return e.classList.remove("show-acc")}),accordeonBtns.forEach(function(e){e.lastElementChild.classList.remove("active")})},clickOutsideAccordeon=function(e){e.target.classList.contains("target")||e.target.classList.contains("questions__accordeon-info")||e.target.classList.contains("questions__accordeon-info-text")||closeAccordeonItems()},budgetBoxFrom=(accordeonBtns.forEach(function(e){e.addEventListener("click",openAccordeonItems)}),window.addEventListener("click",clickOutsideAccordeon),document.querySelector(".contact__budget-box--from")),budgetBoxTo=document.querySelector(".contact__budget-box--to"),budgetInputFrom=document.querySelector("#budget-from"),budgetInputTo=document.querySelector("#budget-to"),langBtns=(budgetInputFrom.addEventListener("focusin",function(){budgetInputFrom.value="",budgetBoxFrom.classList.add("active")}),budgetInputTo.addEventListener("focusin",function(){budgetInputTo.value="",budgetBoxTo.classList.add("active")}),budgetInputFrom.addEventListener("focusout",function(){budgetBoxFrom.classList.remove("active"),budgetBoxTo.classList.remove("active")}),budgetInputTo.addEventListener("focusout",function(){budgetBoxTo.classList.remove("active")}),document.querySelectorAll(".nav__lang-btn")),MultiLang=function(e,t,n){this.phrases={},this.selectedLanguage=(t||navigator.language||navigator.userLanguage).substring(0,2),this.onLoad=n,void 0!==e&&((t=new XMLHttpRequest).open("GET",e,!0),t.onreadystatechange=function(e){4==e.target.readyState&&200==e.target.status&&(this.phrases=JSON.parse(e.target.responseText),this.setLanguage(this.selectedLanguage),this.onLoad)&&this.onLoad()}.bind(this),t.addEventListener("error",function(e){console.log("MultiLang.js: Error reading json file.")},!1),t.send(null)),this.setLanguage=function(e){if(!this.phrases.hasOwnProperty(e))for(var t in this.phrases)if(this.phrases.hasOwnProperty(t)){e=t;break}this.selectedLanguage=e},this.get=function(e){var t;return t=(t=this.phrases[this.selectedLanguage]?this.phrases[this.selectedLanguage][e]:t)||e}};function onLoad(){multilang=new MultiLang("dataLang.json","en")}function langSelectChange(e){multilang.setLanguage(e.value),refreshLabels()}function refreshLabels(){for(var e=document.querySelectorAll("[data-lang]"),t=0,n=e.length;t<n;t++){var o=e[t].dataset.lang;""!=o&&(e[t].textContent=multilang.get(o))}}langBtns.forEach(function(e){return e.addEventListener("click",function(e){langSelectChange(e.target)})}),body.addEventListener("load",onLoad()),langBtns.forEach(function(e){return e.addEventListener("click",function(){langList.classList.remove("active-lang")})});var footerYear=document.querySelector(".footer__foot-year"),handleCurrentYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e};handleCurrentYear();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibWVudU9wZW5CdG5zIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwibWVudUNsb3NlQnRuIiwicXVlcnlTZWxlY3RvciIsIm1vYmlsZU1lbnUiLCJtZW51SXRlbXMiLCJib2R5IiwibXVsdGlMYW5nQnRucyIsImZvckVhY2giLCJidG4iLCJhZGRFdmVudExpc3RlbmVyIiwiYWRkIiwiY2xhc3NMaXN0IiwibGFuZ0xpc3QiLCJyZW1vdmUiLCJpdGVtIiwidG9nZ2xlIiwiZ2FsbGVyeVNsaWRlciIsImJ1dHRvbnMiLCJnYWxsZXJ5Qm94Iiwic2hvd1JlbGxNb2JpbGVCdG5zIiwiYnV0dG9uIiwib2Zmc2V0IiwiZGF0YXNldCIsImNhcm91c2VsQnV0dG9uIiwiaW1nUG9zIiwiY29uY2F0IiwiaW5kZXgiLCJpbmRleE9mIiwiaW5kZXhTbGlkZSIsIm5ld1NsaWRlIiwibGVuZ3RoIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwibmV4dEJ0biIsImFjY29yZGVvbiIsInNob3dCdG4iLCJpbWdMaXN0IiwiY2xvc2VzdCIsIm5ld0FjdGl2ZUltZyIsImNoaWxkcmVuIiwiYWN0aXZlSW1nIiwiY291bnRlciIsIndpbmRvdyIsImFjdGl2ZSIsImluc2V0V2luZG93V2lkdGgiLCJib3hXaWR0aCIsImlubmVyV2lkdGgiLCJjb250ZW50V2lkdGgiLCJzdHlsZSIsInRyYW5zZm9ybSIsImxhc3RFbGVtZW50Q2hpbGQiLCJhY2NvcmRlb25CdG5zIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwidGhpcyIsImNsb3NlQWNjb3JkZW9uSXRlbXMiLCJhbGxBY3RpdmVJdGVtcyIsImZvb3RlclllYXIiLCJjbGlja091dHNpZGVBY2NvcmRlb24iLCJlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJidWRnZXRCb3hUbyIsIm9wZW5BY2NvcmRlb25JdGVtcyIsImJ1ZGdldElucHV0VG8iLCJyZXEiLCJidWRnZXRJbnB1dEZyb20iLCJ2YWx1ZSIsImJ1ZGdldEJveEZyb20iLCJzZWxlY3RlZExhbmd1YWdlIiwibmF2aWdhdG9yIiwidXJsIiwib25yZWFkeXN0YXRlY2hhbmdlIiwiZXZ0IiwicmVhZHlTdGF0ZSIsInNldExhbmd1YWdlIiwiTXVsdGlMYW5nIiwibGFuZyIsIm9ubG9hZCIsImxhbmdjb2RlIiwibGFuZ3VhZ2UiLCJ1c2VyTGFuZ3VhZ2UiLCJzdWJzdHJpbmciLCJvbkxvYWQiLCJrZXkiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJzdGF0dXMiLCJnZXQiLCJKU09OIiwicmVzcG9uc2VUZXh0Iiwic3RyIiwiYmluZCIsIm11bHRpbGFuZyIsImxhbmdTZWxlY3RDaGFuZ2UiLCJyZWZyZXNoTGFiZWxzIiwic2VuZCIsImkiLCJhbGxub2RlcyIsInRleHRDb250ZW50IiwicGhyYXNlcyIsImhhc093blByb3BlcnR5IiwibGFuZ0J0bnMiLCJoYW5kbGVDdXJyZW50WWVhciIsInNlbCIsIm1heCIsImlkbmFtZSIsInllYXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJpbm5lclRleHQiXSwibWFwcGluZ3MiOiJxK0JBRUEsSUFBTUEsYUFBZUMsU0FBU0MsaUJBQWlCLDZCQUE2QixFQUN0RUMsYUFBZUYsU0FBU0csY0FBYyw4QkFBOEIsRUFDcEVDLFdBQWFKLFNBQVNHLGNBQWMsWUFBWSxFQUNoREUsVUFBWUwsU0FBU0MsaUJBQWlCLGlCQUFpQixFQUN2REssS0FBT04sU0FBU0csY0FBYyxNQUFNLEVBc0JoQkksZUE1QjFCUixhQUFBUyxRQUFBLFNBQUFDLEdBQUEsT0FTQ0EsRUFBSUMsaUJBQWlCLFFBQVMsV0FQL0JOLFdBQU1MLFVBQWVDLElBQVEsUUFBQ0MsRUFDOUJRLEVBQU1QLFVBQVlTLElBQUdYLFVBQVNHLEVBQzlCRCxhQUFnQlUsVUFBV0QsSUFBQ1IsVUFBYSxFQUN6Q0csS0FBTUQsVUFBWUwsSUFBQUEsZ0JBQVNDLEVBQzNCWSxTQUFhYixVQUFTRyxPQUFBQSxhQUFxQixDQUUzQ0osQ0FBQUEsQ0FBQUEsQ0FRQSxFQUVBRyxhQVBNVSxpQkFB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UWlFLEVBQUlRLEVBQUtSLENBQUMsR0FBSSxDQUNwRCxJQUFJUyxFQUFTUixFQUFTRCxHQUFHekUsUUFBUXFELEtBQ25CLElBQVY2QixJQUNIUixFQUFTRCxHQUFHRSxZQUFjTixVQUFVTCxJQUFJa0IsQ0FBTSxFQUVoRCxDQUNELENBRUFKLFNBQVM3RixRQUFRLFNBQUFDLEdBQUcsT0FDbkJBLEVBQUlDLGlCQUFpQixRQUFTLFNBQUFnRCxHQUM3Qm1DLGlCQUFpQm5DLEVBQUVDLE1BQU0sQ0FDMUIsQ0FBQyxDQUFDLENBQ0gsRUFFQXJELEtBQUtJLGlCQUFpQixPQUFRd0UsT0FBTyxDQUFDLEVBQ3RDbUIsU0FBUzdGLFFBQVEsU0FBQUMsR0FBRyxPQUNuQkEsRUFBSUMsaUJBQWlCLFFBQVMsV0FDN0JHLFNBQVNELFVBQVVFLE9BQU8sYUFBYSxDQUN4QyxDQUFDLENBQUMsQ0FDSCxFQUlBLElBQU0wQyxXQUFheEQsU0FBU0csY0FBYyxvQkFBb0IsRUFDeERtRyxrQkFBb0IsV0FDekIsSUFBTUksR0FBTyxJQUFJQyxNQUFPQyxZQUFZLEVBQ3BDcEQsV0FBV3FELFVBQVlILENBQ3hCLEVBRUFKLGtCQUFrQiIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vTmF2YmFyXG5cbmNvbnN0IG1lbnVPcGVuQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZfX21vYmlsZS1tZW51LWJ0bi0tb3BlbicpXG5jb25zdCBtZW51Q2xvc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19tb2JpbGUtbWVudS1idG4tLWNsb3NlJylcbmNvbnN0IG1vYmlsZU1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19tZW51JylcbmNvbnN0IG1lbnVJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZfX21lbnUtaXRlbScpXG5jb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpXG5cbm1lbnVPcGVuQnRucy5mb3JFYWNoKGJ0biA9PlxuXHRidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0bW9iaWxlTWVudS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuXHRcdGJ0bi5jbGFzc0xpc3QuYWRkKCdoaWRlLWJ0bicpXG5cdFx0bWVudUNsb3NlQnRuLmNsYXNzTGlzdC5hZGQoJ3Nob3ctYnRuJylcblx0XHRib2R5LmNsYXNzTGlzdC5hZGQoJ3N0b3Atc2Nyb2xsaW5nJylcblx0XHRsYW5nTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUtbGFuZycpXG5cdH0pXG4pXG5cbm1lbnVDbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0bW9iaWxlTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuXHRtZW51T3BlbkJ0bnMuZm9yRWFjaChidG4gPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUtYnRuJykpXG5cdG1lbnVDbG9zZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LWJ0bicpXG5cdGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnc3RvcC1zY3JvbGxpbmcnKVxufSlcblxubWVudUl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG5cdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0bW9iaWxlTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuXHRcdG1lbnVPcGVuQnRucy5mb3JFYWNoKGJ0biA9PiBidG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZS1idG4nKSlcblx0XHRtZW51Q2xvc2VCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdy1idG4nKVxuXHRcdGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnc3RvcC1zY3JvbGxpbmcnKVxuXHR9KVxufSlcblxuLy8gTXVsdGlsYW5ndWFnZSBtZW51XG5cbmNvbnN0IG11bHRpTGFuZ0J0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19tb3JlLWxhbmctYnRuJylcbmNvbnN0IGxhbmdMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fbGFuZy1saXN0JylcblxubXVsdGlMYW5nQnRucy5mb3JFYWNoKGJ0biA9PiB7XG5cdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRsYW5nTGlzdC5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUtbGFuZycpXG5cdFx0bW9iaWxlTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuXHRcdG1lbnVPcGVuQnRucy5mb3JFYWNoKGJ0biA9PiBidG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZS1idG4nKSlcblx0XHRtZW51Q2xvc2VCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdy1idG4nKVxuXHRcdGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnc3RvcC1zY3JvbGxpbmcnKVxuXHR9KVxufSlcblxuY29uc3QgY2xvc2VMYW5nID0gKCkgPT4ge1xuXHRsYW5nTGlzdC5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUtbGFuZycpXG59XG5cbi8vIGNvbnN0IGNsb3NlTGFuZ091dHNpZGUgPSBlID0+IHtcbi8vIFx0aWYgKCBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdl9fbW9yZS1sYW5nLWJ0bicpKSByZXR1cm5cblxuLy8gXHRjbG9zZUxhbmcoKVxuLy8gfVxuXG4vLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUxhbmdPdXRzaWRlKVxuXG4vLyBHYWxsZXJ5IGNhcm91c2VsXG5cbmNvbnN0IGdhbGxlcnlTbGlkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2hvd3JlZWxfX2dhbGxlcnktaW1nLWJveCcpXG5jb25zdCBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY2Fyb3VzZWwtYnV0dG9uXScpXG5jb25zdCBnYWxsZXJ5Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNob3dyZWVsX19nYWxsZXJ5LWltZy1ib3gnKVxuXG5idXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcblx0YnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdGNvbnN0IG9mZnNldCA9IGJ1dHRvbi5kYXRhc2V0LmNhcm91c2VsQnV0dG9uID09PSAnbmV4dCcgPyAxIDogLTFcblxuXHRcdGNvbnN0IGltZ1BvcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zaG93cmVlbF9fcG9zaXRpb24nKVxuXG5cdFx0aW1nUG9zLmZvckVhY2goKHNsaWRlLCBpbmRleCkgPT4ge1xuXHRcdFx0Y29uc3QgaW5kZXhTbGlkZSA9IGdhbGxlcnlTbGlkZXIucXVlcnlTZWxlY3RvcihgW2RhdGEtc2xpZGUtJHtpbmRleH1dYClcblxuXHRcdFx0bGV0IG5ld1NsaWRlID0gWy4uLmltZ1Bvc10uaW5kZXhPZihpbmRleFNsaWRlKSArIG9mZnNldFxuXG5cdFx0XHRpZiAobmV3U2xpZGUgPCAwKSBuZXdTbGlkZSA9IGltZ1Bvcy5sZW5ndGggLSAxXG5cdFx0XHRpZiAobmV3U2xpZGUgPiBpbWdQb3MubGVuZ3RoIC0gMSkgbmV3U2xpZGUgPSAwXG5cblx0XHRcdGltZ1Bvc1tuZXdTbGlkZV0uZGF0YXNldFtgc2xpZGUtJHtpbmRleH1gXSA9IHRydWVcblx0XHRcdGRlbGV0ZSBpbmRleFNsaWRlLmRhdGFzZXRbYHNsaWRlLSR7aW5kZXh9YF1cblx0XHR9KVxuXHR9KVxufSlcblxuY29uc3Qgc2hvd1JlbGxNb2JpbGVCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2hvdy1idG5dJylcbmNvbnN0IG5leHRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaG93LWJ0bj1cIm5leHRcIl0nKVxuY29uc3QgcHJldkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNob3ctYnRuPVwicHJldlwiXScpXG5sZXQgY29udGVudFdpZHRoID0gMTYwMFxuXG5zaG93UmVsbE1vYmlsZUJ0bnMuZm9yRWFjaChidXR0b24gPT4ge1xuXHRidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0bGV0IGNvdW50ZXIgPSBidXR0b24uZGF0YXNldC5zaG93QnRuID09PSAnbmV4dCcgPyAxIDogLTFcblxuXHRcdGNvbnN0IGltZ0xpc3QgPSBidXR0b24uY2xvc2VzdCgnW2RhdGEtY2Fyb3VzZWxdJykucXVlcnlTZWxlY3RvcignW2RhdGEtY2Fyb3VzZWwtaW1nc10nKVxuXG5cdFx0Y29uc3QgYWN0aXZlSW1nID0gaW1nTGlzdC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmVdJylcblxuXHRcdGxldCBuZXdBY3RpdmVJbWcgPSAobmV3QWN0aXZlSW1nID0gWy4uLmltZ0xpc3QuY2hpbGRyZW5dLmluZGV4T2YoYWN0aXZlSW1nKSArIGNvdW50ZXIpXG5cblx0XHRpZiAobmV3QWN0aXZlSW1nIDwgMCkgbmV3QWN0aXZlSW1nID0gaW1nTGlzdC5jaGlsZHJlbi5sZW5ndGggLSAxXG5cdFx0aWYgKG5ld0FjdGl2ZUltZyA+PSBpbWdMaXN0LmNoaWxkcmVuLmxlbmd0aCkgbmV3QWN0aXZlSW1nID0gMFxuXG5cdFx0aW1nTGlzdC5jaGlsZHJlbltuZXdBY3RpdmVJbWddLmRhdGFzZXQuYWN0aXZlID0gdHJ1ZVxuXHRcdGRlbGV0ZSBhY3RpdmVJbWcuZGF0YXNldC5hY3RpdmVcblx0fSlcbn0pXG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG5cdGxldCBpbnNldFdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGhcblx0bGV0IGJveFdpZHRoID0gaW5zZXRXaW5kb3dXaWR0aCAvIGNvbnRlbnRXaWR0aFxuXHRnYWxsZXJ5Qm94LnN0eWxlLnRyYW5zZm9ybSA9IGJveFdpZHRoID49IDEgPyAnc2NhbGUoMSknIDogYHNjYWxlKCR7Ym94V2lkdGh9KWBcbn0pXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcblx0bGV0IGluc2V0V2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aFxuXHRsZXQgYm94V2lkdGggPSBpbnNldFdpbmRvd1dpZHRoIC8gY29udGVudFdpZHRoXG5cdGdhbGxlcnlCb3guc3R5bGUudHJhbnNmb3JtID0gYm94V2lkdGggPj0gMSA/ICdzY2FsZSgxKScgOiBgc2NhbGUoJHtib3hXaWR0aH0pYFxufSlcblxuLy8gUXVlc3Rpb25zIGFjY29yZGVvblxuXG5jb25zdCBhY2NvcmRlb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucXVlc3Rpb25zX19ib3gtbGlzdHMnKVxuY29uc3QgYWNjb3JkZW9uQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5xdWVzdGlvbnNfX2FjY29yZGVvbi1ib3gtY29udGVudCcpXG5cbmZ1bmN0aW9uIG9wZW5BY2NvcmRlb25JdGVtcygpIHtcblx0aWYgKHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5jb250YWlucygnc2hvdy1hY2MnKSkge1xuXHRcdHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3ctYWNjJylcblx0XHR0aGlzLmxhc3RFbGVtZW50Q2hpbGQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcblx0fSBlbHNlIHtcblx0XHRjbG9zZUFjY29yZGVvbkl0ZW1zKClcblx0XHR0aGlzLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QudG9nZ2xlKCdzaG93LWFjYycpXG5cdFx0dGhpcy5sYXN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXG5cdH1cbn1cblxuY29uc3QgY2xvc2VBY2NvcmRlb25JdGVtcyA9ICgpID0+IHtcblx0Y29uc3QgYWxsQWN0aXZlSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucXVlc3Rpb25zX19hY2NvcmRlb24taW5mbycpXG5cdGFsbEFjdGl2ZUl0ZW1zLmZvckVhY2goaXRlbSA9PiBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3ctYWNjJykpXG5cdGFjY29yZGVvbkJ0bnMuZm9yRWFjaChidG4gPT4ge1xuXHRcdGJ0bi5sYXN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG5cdH0pXG59XG5cbmNvbnN0IGNsaWNrT3V0c2lkZUFjY29yZGVvbiA9IGUgPT4ge1xuXHRpZiAoXG5cdFx0ZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YXJnZXQnKSB8fFxuXHRcdGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncXVlc3Rpb25zX19hY2NvcmRlb24taW5mbycpIHx8XG5cdFx0ZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdxdWVzdGlvbnNfX2FjY29yZGVvbi1pbmZvLXRleHQnKVxuXHQpXG5cdFx0cmV0dXJuXG5cblx0Y2xvc2VBY2NvcmRlb25JdGVtcygpXG59XG5cbmFjY29yZGVvbkJ0bnMuZm9yRWFjaChidG4gPT4ge1xuXHRidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQWNjb3JkZW9uSXRlbXMpXG59KVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGlja091dHNpZGVBY2NvcmRlb24pXG5cbi8vQ29udGFjdCBmb3JtIHNsaWRlclxuXG4vLyBjb25zdCBmcm9tU2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zyb21TbGlkZXInKVxuLy8gY29uc3QgdG9TbGlkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG9TbGlkZXInKVxuLy8gY29uc3QgZnJvbUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zyb21JbnB1dCcpXG4vLyBjb25zdCB0b0lucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvSW5wdXQnKVxuXG4vLyBmdW5jdGlvbiBjb250cm9sRnJvbVNsaWRlcihmcm9tU2xpZGVyLCB0b1NsaWRlciwgZnJvbUlucHV0ICkge1xuXG4vLyBcdGNvbnN0IFtmcm9tLCB0b10gPSBnZXRQYXJzZWQoZnJvbVNsaWRlciwgdG9TbGlkZXIpXG4vLyBcdGZpbGxTbGlkZXIoZnJvbVNsaWRlciwgdG9TbGlkZXIsICcjQzZDNkM2JywgJyNiNjA3MzInLCB0b1NsaWRlcilcbi8vIFx0aWYgKGZyb20gPiB0bykge1xuLy8gXHRcdGZyb21TbGlkZXIudmFsdWUgPSB0b1xuLy8gXHRcdGZyb21JbnB1dC5pbm5lclRleHQgPSBgJHt0b30gYFxuLy8gXHR9IGVsc2Uge1xuLy8gXHRcdGZyb21JbnB1dC5pbm5lclRleHQgPSBgJHtmcm9tfSAgYFxuLy8gXHR9XG5cbi8vIH1cblxuLy8gZnVuY3Rpb24gY29udHJvbFRvU2xpZGVyKGZyb21TbGlkZXIsIHRvU2xpZGVyLCB0b0lucHV0KSB7XG5cbi8vIFx0Y29uc3QgW2Zyb20sIHRvXSA9IGdldFBhcnNlZChmcm9tU2xpZGVyLCB0b1NsaWRlcilcbi8vIFx0ZmlsbFNsaWRlcihmcm9tU2xpZGVyLCB0b1NsaWRlciwgJyNDNkM2QzYnLCAnI2I2MDczMicsIHRvU2xpZGVyKVxuLy8gXHRzZXRUb2dnbGVBY2Nlc3NpYmxlKHRvU2xpZGVyKVxuLy8gXHRpZiAoZnJvbSA8PSB0bykge1xuLy8gXHRcdHRvU2xpZGVyLmJ1ZGdldCA9IHRvXG4vLyBcdFx0dG9JbnB1dC5pbm5lclRleHQgPSBgJHt0b30gYFxuLy8gXHR9IGVsc2Uge1xuLy8gXHRcdHRvSW5wdXQuaW5uZXJUZXh0ID0gYCR7ZnJvbX0gYFxuLy8gXHRcdHRvU2xpZGVyLnZhbHVlID0gZnJvbVxuLy8gXHR9XG5cbi8vIH1cblxuLy8gZnVuY3Rpb24gZ2V0UGFyc2VkKGN1cnJlbnRGcm9tLCBjdXJyZW50VG8pIHtcbi8vIFx0Y29uc3QgZnJvbSA9IHBhcnNlSW50KGN1cnJlbnRGcm9tLnZhbHVlLCAxMClcbi8vIFx0Y29uc3QgdG8gPSBwYXJzZUludChjdXJyZW50VG8udmFsdWUsIDEwKVxuLy8gXHRyZXR1cm4gW2Zyb20sIHRvXVxuLy8gfVxuXG4vLyBmdW5jdGlvbiBmaWxsU2xpZGVyKGZyb20sIHRvLCBzbGlkZXJDb2xvciwgcmFuZ2VDb2xvciwgY29udHJvbFNsaWRlcikge1xuLy8gXHRjb25zdCByYW5nZURpc3RhbmNlID0gdG8ubWF4IC0gdG8ubWluXG4vLyBcdGNvbnN0IGZyb21Qb3NpdGlvbiA9IGZyb20udmFsdWUgLSB0by5taW5cbi8vIFx0Y29uc3QgdG9Qb3NpdGlvbiA9IHRvLnZhbHVlIC0gdG8ubWluXG4vLyBcdGNvbnRyb2xTbGlkZXIuc3R5bGUuYmFja2dyb3VuZCA9IGBsaW5lYXItZ3JhZGllbnQoXG4vLyAgICAgICB0byByaWdodCxcbi8vICAgICAgICR7c2xpZGVyQ29sb3J9IDAlLFxuLy8gICAgICAgJHtzbGlkZXJDb2xvcn0gJHsoZnJvbVBvc2l0aW9uIC8gcmFuZ2VEaXN0YW5jZSkgKiAxMDB9JSxcbi8vICAgICAgICR7cmFuZ2VDb2xvcn0gJHsoZnJvbVBvc2l0aW9uIC8gcmFuZ2VEaXN0YW5jZSkgKiAxMDB9JSxcbi8vICAgICAgICR7cmFuZ2VDb2xvcn0gJHsodG9Qb3NpdGlvbiAvIHJhbmdlRGlzdGFuY2UpICogMTAwfSUsXG4vLyAgICAgICAke3NsaWRlckNvbG9yfSAkeyh0b1Bvc2l0aW9uIC8gcmFuZ2VEaXN0YW5jZSkgKiAxMDB9JSxcbi8vICAgICAgICR7c2xpZGVyQ29sb3J9IDEwMCUpYFxuLy8gfVxuXG4vLyBmdW5jdGlvbiBzZXRUb2dnbGVBY2Nlc3NpYmxlKGN1cnJlbnRUYXJnZXQpIHtcbi8vIFx0Y29uc3QgdG9TbGlkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG9TbGlkZXInKVxuLy8gXHRpZiAoTnVtYmVyKGN1cnJlbnRUYXJnZXQudmFsdWUpIDw9IDApIHtcbi8vIFx0XHR0b1NsaWRlci5zdHlsZS56SW5kZXggPSAyXG4vLyBcdH0gZWxzZSB7XG4vLyBcdFx0dG9TbGlkZXIuc3R5bGUuekluZGV4ID0gMFxuLy8gXHR9XG4vLyB9XG5cbi8vIGZpbGxTbGlkZXIoZnJvbVNsaWRlciwgdG9TbGlkZXIsICcjQzZDNkM2JywgJyNiNjA3MzInLCB0b1NsaWRlcilcbi8vIHNldFRvZ2dsZUFjY2Vzc2libGUodG9TbGlkZXIpXG5cbi8vIGZyb21TbGlkZXIub25pbnB1dCA9ICgpID0+IGNvbnRyb2xGcm9tU2xpZGVyKGZyb21TbGlkZXIsIHRvU2xpZGVyLCBmcm9tSW5wdXQpXG4vLyB0b1NsaWRlci5vbmlucHV0ID0gKCkgPT4gY29udHJvbFRvU2xpZGVyKGZyb21TbGlkZXIsIHRvU2xpZGVyLCB0b0lucHV0KVxuXG4vLyBDb250YWN0IGZvcm0gYnVkZ2V0XG5cbmNvbnN0IGJ1ZGdldEJveEZyb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fYnVkZ2V0LWJveC0tZnJvbScpXG5jb25zdCBidWRnZXRCb3hUbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19idWRnZXQtYm94LS10bycpXG5jb25zdCBidWRnZXRJbnB1dEZyb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYnVkZ2V0LWZyb20nKVxuY29uc3QgYnVkZ2V0SW5wdXRUbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNidWRnZXQtdG8nKVxuXG5idWRnZXRJbnB1dEZyb20uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsICgpID0+IHtcblx0YnVkZ2V0SW5wdXRGcm9tLnZhbHVlID0gJydcblxuXHRidWRnZXRCb3hGcm9tLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG59KVxuXG5idWRnZXRJbnB1dFRvLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCAoKSA9PiB7XG5cdGJ1ZGdldElucHV0VG8udmFsdWUgPSAnJ1xuXHRidWRnZXRCb3hUby5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxufSlcblxuYnVkZ2V0SW5wdXRGcm9tLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgKCkgPT4ge1xuXHRidWRnZXRCb3hGcm9tLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG5cdGJ1ZGdldEJveFRvLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG59KVxuYnVkZ2V0SW5wdXRUby5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsICgpID0+IHtcblx0YnVkZ2V0Qm94VG8uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbn0pXG5cbi8vTXVsdGkgbGFuZ3VhZ2VcblxuY29uc3QgbGFuZ0J0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19sYW5nLWJ0bicpXG5cbmxldCBNdWx0aUxhbmcgPSBmdW5jdGlvbiAodXJsLCBsYW5nLCBvbmxvYWQpIHtcblx0dGhpcy5waHJhc2VzID0ge31cblxuXHR0aGlzLnNlbGVjdGVkTGFuZ3VhZ2UgPSAobGFuZyB8fCBuYXZpZ2F0b3IubGFuZ3VhZ2UgfHwgbmF2aWdhdG9yLnVzZXJMYW5ndWFnZSkuc3Vic3RyaW5nKDAsIDIpXG5cblx0dGhpcy5vbkxvYWQgPSBvbmxvYWRcblxuXHRpZiAodHlwZW9mIHVybCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRsZXQgb2JqID0gdGhpc1xuXHRcdGxldCByZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuXG5cdFx0cmVxLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSlcblx0XHRyZXEub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKGV2dCkge1xuXHRcdFx0aWYgKGV2dC50YXJnZXQucmVhZHlTdGF0ZSA9PSA0ICYmIGV2dC50YXJnZXQuc3RhdHVzID09IDIwMCkge1xuXHRcdFx0XHR0aGlzLnBocmFzZXMgPSBKU09OLnBhcnNlKGV2dC50YXJnZXQucmVzcG9uc2VUZXh0KVxuXG5cdFx0XHRcdHRoaXMuc2V0TGFuZ3VhZ2UodGhpcy5zZWxlY3RlZExhbmd1YWdlKVxuXG5cdFx0XHRcdGlmICh0aGlzLm9uTG9hZCkge1xuXHRcdFx0XHRcdHRoaXMub25Mb2FkKClcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0uYmluZChvYmopXG5cdFx0cmVxLmFkZEV2ZW50TGlzdGVuZXIoXG5cdFx0XHQnZXJyb3InLFxuXHRcdFx0ZnVuY3Rpb24gKGUpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ011bHRpTGFuZy5qczogRXJyb3IgcmVhZGluZyBqc29uIGZpbGUuJylcblx0XHRcdH0sXG5cdFx0XHRmYWxzZVxuXHRcdClcblxuXHRcdHJlcS5zZW5kKG51bGwpXG5cdH1cblxuXHR0aGlzLnNldExhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdjb2RlKSB7XG5cdFx0aWYgKCF0aGlzLnBocmFzZXMuaGFzT3duUHJvcGVydHkobGFuZ2NvZGUpKSB7XG5cdFx0XHRmb3IgKGxldCBrZXkgaW4gdGhpcy5waHJhc2VzKSB7XG5cdFx0XHRcdGlmICh0aGlzLnBocmFzZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0XHRcdGxhbmdjb2RlID0ga2V5XG5cdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuc2VsZWN0ZWRMYW5ndWFnZSA9IGxhbmdjb2RlXG5cdH1cblxuXHR0aGlzLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcblx0XHRsZXQgc3RyXG5cdFx0aWYgKHRoaXMucGhyYXNlc1t0aGlzLnNlbGVjdGVkTGFuZ3VhZ2VdKSBzdHIgPSB0aGlzLnBocmFzZXNbdGhpcy5zZWxlY3RlZExhbmd1YWdlXVtrZXldXG5cblx0XHRzdHIgPSBzdHIgfHwga2V5XG5cdFx0cmV0dXJuIHN0clxuXHR9XG59XG5sZXQgbXVsdGlsYW5nXG5cbmZ1bmN0aW9uIG9uTG9hZCgpIHtcblx0bXVsdGlsYW5nID0gbmV3IE11bHRpTGFuZygnZGF0YUxhbmcuanNvbicsICdlbicpXG59XG5cbmZ1bmN0aW9uIGxhbmdTZWxlY3RDaGFuZ2Uoc2VsKSB7XG5cdG11bHRpbGFuZy5zZXRMYW5ndWFnZShzZWwudmFsdWUpXG5cdHJlZnJlc2hMYWJlbHMoKVxufVxuXG5mdW5jdGlvbiByZWZyZXNoTGFiZWxzKCkge1xuXHRsZXQgYWxsbm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1sYW5nXScpXG5cblx0Zm9yIChsZXQgaSA9IDAsIG1heCA9IGFsbG5vZGVzLmxlbmd0aDsgaSA8IG1heDsgaSsrKSB7XG5cdFx0bGV0IGlkbmFtZSA9IGFsbG5vZGVzW2ldLmRhdGFzZXQubGFuZ1xuXHRcdGlmIChpZG5hbWUgIT0gJycpIHtcblx0XHRcdGFsbG5vZGVzW2ldLnRleHRDb250ZW50ID0gbXVsdGlsYW5nLmdldChpZG5hbWUpXG5cdFx0fVxuXHR9XG59XG5cbmxhbmdCdG5zLmZvckVhY2goYnRuID0+XG5cdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuXHRcdGxhbmdTZWxlY3RDaGFuZ2UoZS50YXJnZXQpXG5cdH0pXG4pXG5cbmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9uTG9hZCgpKVxubGFuZ0J0bnMuZm9yRWFjaChidG4gPT5cblx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdGxhbmdMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZS1sYW5nJylcblx0fSlcbilcblxuLy8gRm9vdGVyIGN1cnJlbnQgeWVhclxuXG5jb25zdCBmb290ZXJZZWFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3Rlcl9fZm9vdC15ZWFyJylcbmNvbnN0IGhhbmRsZUN1cnJlbnRZZWFyID0gKCkgPT4ge1xuXHRjb25zdCB5ZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpXG5cdGZvb3RlclllYXIuaW5uZXJUZXh0ID0geWVhclxufVxuXG5oYW5kbGVDdXJyZW50WWVhcigpXG4iXX0=
