"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,i=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw o}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var menuOpenBtns=document.querySelectorAll(".nav__mobile-menu-btn--open"),menuCloseBtn=document.querySelector(".nav__mobile-menu-btn--close"),mobileMenu=document.querySelector(".nav__menu"),menuItems=document.querySelectorAll(".nav__menu-item"),body=document.querySelector("body"),multiLangBtns=(menuOpenBtns.forEach(function(e){return e.addEventListener("click",function(){mobileMenu.classList.add("active"),e.classList.add("hide-btn"),menuCloseBtn.classList.add("show-btn"),body.classList.add("stop-scrolling"),langList.classList.remove("active-lang")})}),menuCloseBtn.addEventListener("click",function(){mobileMenu.classList.remove("active"),menuOpenBtns.forEach(function(e){return e.classList.remove("hide-btn")}),menuCloseBtn.classList.remove("show-btn"),body.classList.remove("stop-scrolling")}),menuItems.forEach(function(e){e.addEventListener("click",function(){mobileMenu.classList.remove("active"),menuOpenBtns.forEach(function(e){return e.classList.remove("hide-btn")}),menuCloseBtn.classList.remove("show-btn"),body.classList.remove("stop-scrolling")})}),document.querySelectorAll(".nav__more-lang-btn")),langList=document.querySelector(".nav__lang-list"),closeLang=(multiLangBtns.forEach(function(e){e.addEventListener("click",function(){langList.classList.toggle("active-lang"),mobileMenu.classList.remove("active"),menuOpenBtns.forEach(function(e){return e.classList.remove("hide-btn")}),menuCloseBtn.classList.remove("show-btn"),body.classList.remove("stop-scrolling")})}),function(){langList.classList.toggle("active-lang")}),gallerySlider=document.querySelector(".showreel__gallery-img-box"),buttons=document.querySelectorAll("[data-carousel-button]"),galleryBox=document.querySelector(".showreel__gallery-img-box"),showRellMobileBtns=(buttons.forEach(function(e){e.addEventListener("click",function(){var o="next"===e.dataset.carouselButton?1:-1,a=document.querySelectorAll(".showreel__position");a.forEach(function(e,t){var n=gallerySlider.querySelector("[data-slide-".concat(t,"]")),r=_toConsumableArray(a).indexOf(n)+o;(r=r<0?a.length-1:r)>a.length-1&&(r=0),a[r].dataset["slide-".concat(t)]=!0,delete n.dataset["slide-".concat(t)]})})}),document.querySelectorAll("[data-show-btn]")),nextBtn=document.querySelector('[data-show-btn="next"]'),prevBtn=document.querySelector('[data-show-btn="prev"]'),contentWidth=1600,accordeon=(showRellMobileBtns.forEach(function(r){r.addEventListener("click",function(){var e="next"===r.dataset.showBtn?1:-1,t=r.closest("[data-carousel]").querySelector("[data-carousel-imgs]"),n=t.querySelector("[data-active]"),e=_toConsumableArray(t.children).indexOf(n)+e;(e=e<0?t.children.length-1:e)>=t.children.length&&(e=0),t.children[e].dataset.active=!0,delete n.dataset.active})}),window.addEventListener("resize",function(){var e=window.innerWidth/contentWidth;galleryBox.style.transform=1<=e?"scale(1)":"scale(".concat(e,")")}),window.addEventListener("load",function(){var e=window.innerWidth/contentWidth;galleryBox.style.transform=1<=e?"scale(1)":"scale(".concat(e,")")}),document.querySelector(".questions__box-lists")),accordeonBtns=document.querySelectorAll(".questions__accordeon-box-content");function openAccordeonItems(){this.nextElementSibling.classList.contains("show-acc")?(this.nextElementSibling.classList.remove("show-acc"),this.lastElementChild.classList.remove("active")):(closeAccordeonItems(),this.nextElementSibling.classList.toggle("show-acc"),this.lastElementChild.classList.toggle("active"))}var closeAccordeonItems=function(){document.querySelectorAll(".questions__accordeon-info").forEach(function(e){return e.classList.remove("show-acc")}),accordeonBtns.forEach(function(e){e.lastElementChild.classList.remove("active")})},clickOutsideAccordeon=function(e){e.target.classList.contains("target")||e.target.classList.contains("questions__accordeon-info")||e.target.classList.contains("questions__accordeon-info-text")||closeAccordeonItems()},fromSlider=(accordeonBtns.forEach(function(e){e.addEventListener("click",openAccordeonItems)}),window.addEventListener("click",clickOutsideAccordeon),document.querySelector("#fromSlider")),toSlider=document.querySelector("#toSlider"),fromInput=document.querySelector("#fromInput"),toInput=document.querySelector("#toInput");function controlFromSlider(e,t,n){var r=_slicedToArray(getParsed(e,t),2),o=r[0],r=r[1];fillSlider(e,t,"#C6C6C6","#b60732",t),r<o?(e.value=r,n.innerText="".concat(r," zł")):n.innerText="".concat(o," zł")}function controlToSlider(e,t,n){var r=_slicedToArray(getParsed(e,t),2),o=r[0],r=r[1];fillSlider(e,t,"#C6C6C6","#b60732",t),setToggleAccessible(t),o<=r?(t.value=r,n.innerText="".concat(r," zł")):(n.innerText="".concat(o," zł"),t.value=o)}function getParsed(e,t){return[parseInt(e.value,10),parseInt(t.value,10)]}function fillSlider(e,t,n,r,o){var a=t.max-t.min,e=e.value-t.min,t=t.value-t.min;o.style.background="linear-gradient(\n      to right,\n      ".concat(n," 0%,\n      ").concat(n," ").concat(e/a*100,"%,\n      ").concat(r," ").concat(e/a*100,"%,\n      ").concat(r," ").concat(t/a*100,"%, \n      ").concat(n," ").concat(t/a*100,"%, \n      ").concat(n," 100%)")}function setToggleAccessible(e){var t=document.querySelector("#toSlider");Number(e.value)<=0?t.style.zIndex=2:t.style.zIndex=0}fillSlider(fromSlider,toSlider,"#C6C6C6","#b60732",toSlider),setToggleAccessible(toSlider),fromSlider.oninput=function(){return controlFromSlider(fromSlider,toSlider,fromInput)},toSlider.oninput=function(){return controlToSlider(fromSlider,toSlider,toInput)};var multilang,langBtns=document.querySelectorAll(".nav__lang-btn"),MultiLang=function(e,t,n){this.phrases={},this.selectedLanguage=(t||navigator.language||navigator.userLanguage).substring(0,2),this.onLoad=n,void 0!==e&&((t=new XMLHttpRequest).open("GET",e,!0),t.onreadystatechange=function(e){4==e.target.readyState&&200==e.target.status&&(this.phrases=JSON.parse(e.target.responseText),this.setLanguage(this.selectedLanguage),this.onLoad)&&this.onLoad()}.bind(this),t.addEventListener("error",function(e){console.log("MultiLang.js: Error reading json file.")},!1),t.send(null)),this.setLanguage=function(e){if(!this.phrases.hasOwnProperty(e))for(var t in this.phrases)if(this.phrases.hasOwnProperty(t)){e=t;break}this.selectedLanguage=e},this.get=function(e){var t;return t=(t=this.phrases[this.selectedLanguage]?this.phrases[this.selectedLanguage][e]:t)||e}};function onLoad(){multilang=new MultiLang("dataLang.json","en")}function langSelectChange(e){multilang.setLanguage(e.value),refreshLabels()}function refreshLabels(){for(var e=document.querySelectorAll("[data-lang]"),t=0,n=e.length;t<n;t++){var r=e[t].dataset.lang;""!=r&&(e[t].textContent=multilang.get(r))}}langBtns.forEach(function(e){return e.addEventListener("click",function(e){langSelectChange(e.target)})}),body.addEventListener("load",onLoad());var footerYear=document.querySelector(".footer__foot-year"),handleCurrentYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e};handleCurrentYear();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibWVudU9wZW5CdG5zIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwibWVudUNsb3NlQnRuIiwicXVlcnlTZWxlY3RvciIsIm1vYmlsZU1lbnUiLCJtZW51SXRlbXMiLCJib2R5IiwibXVsdGlMYW5nQnRucyIsImZvckVhY2giLCJidG4iLCJhZGRFdmVudExpc3RlbmVyIiwiY2xhc3NMaXN0IiwiYWRkIiwibGFuZ0xpc3QiLCJyZW1vdmUiLCJpdGVtIiwiZ2FsbGVyeVNsaWRlciIsImJ1dHRvbnMiLCJnYWxsZXJ5Qm94Iiwic2hvd1JlbGxNb2JpbGVCdG5zIiwiYnV0dG9uIiwib2Zmc2V0IiwiZGF0YXNldCIsImNhcm91c2VsQnV0dG9uIiwiaW1nUG9zIiwic2xpZGUiLCJjb25jYXQiLCJpbmRleCIsIm5ld1NsaWRlIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiaW5kZXhTbGlkZSIsImxlbmd0aCIsIm5leHRCdG4iLCJwcmV2QnRuIiwiYWNjb3JkZW9uIiwic2hvd0J0biIsImltZ0xpc3QiLCJjbG9zZXN0IiwibmV3QWN0aXZlSW1nIiwiY2hpbGRyZW4iLCJhY3RpdmVJbWciLCJjb3VudGVyIiwid2luZG93IiwiYWN0aXZlIiwiaW5zZXRXaW5kb3dXaWR0aCIsImJveFdpZHRoIiwiaW5uZXJXaWR0aCIsImNvbnRlbnRXaWR0aCIsInN0eWxlIiwidHJhbnNmb3JtIiwibGFzdEVsZW1lbnRDaGlsZCIsImFjY29yZGVvbkJ0bnMiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJ0aGlzIiwidG9nZ2xlIiwiY2xvc2VBY2NvcmRlb25JdGVtcyIsImFsbEFjdGl2ZUl0ZW1zIiwiY2xpY2tPdXRzaWRlQWNjb3JkZW9uIiwiZSIsInRhcmdldCIsImNvbnRhaW5zIiwiZnJvbUlucHV0IiwiX2dldFBhcnNlZDIiLCJfc2xpY2VkVG9BcnJheSIsImZyb20iLCJvcGVuQWNjb3JkZW9uSXRlbXMiLCJpbm5lclRleHQiLCJ0b1NsaWRlciIsInRvSW5wdXQiLCJjb250cm9sVG9TbGlkZXIiLCJmcm9tU2xpZGVyIiwiX2dldFBhcnNlZDQiLCJfZ2V0UGFyc2VkMyIsImZpbGxTbGlkZXIiLCJ0byIsInNldFRvZ2dsZUFjY2Vzc2libGUiLCJnZXRQYXJzZWQiLCJjdXJyZW50RnJvbSIsImN1cnJlbnRUbyIsInBhcnNlSW50IiwicmFuZ2VEaXN0YW5jZSIsIm1heCIsImZyb21Qb3NpdGlvbiIsImN1cnJlbnRUYXJnZXQiLCJ2YWx1ZSIsInNsaWRlckNvbG9yIiwicmFuZ2VDb2xvciIsImNvbnRyb2xTbGlkZXIiLCJtaW4iLCJvbmlucHV0IiwiYmFja2dyb3VuZCIsInRvUG9zaXRpb24iLCJNdWx0aUxhbmciLCJwaHJhc2VzIiwiTnVtYmVyIiwic2VsZWN0ZWRMYW5ndWFnZSIsIm5hdmlnYXRvciIsIm9uTG9hZCIsIm9ubG9hZCIsInpJbmRleCIsImV2dCIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJwYXJzZSIsImNvbnRyb2xGcm9tU2xpZGVyIiwibXVsdGlsYW5nIiwiY29uc29sZSIsInVybCIsImxhbmciLCJoYXNPd25Qcm9wZXJ0eSIsImxhbmd1YWdlIiwidXNlckxhbmd1YWdlIiwic3Vic3RyaW5nIiwicmVxIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwib25yZWFkeXN0YXRlY2hhbmdlIiwic3RyIiwiSlNPTiIsInJlc3BvbnNlVGV4dCIsInNldExhbmd1YWdlIiwiYmluZCIsImxhbmdTZWxlY3RDaGFuZ2UiLCJsb2ciLCJyZWZyZXNoTGFiZWxzIiwic2VuZCIsImFsbG5vZGVzIiwiaWRuYW1lIiwibGFuZ2NvZGUiLCJ0ZXh0Q29udGVudCIsImtleSIsImZvb3RlclllYXIiLCJzZWwiLCJpIiwiZ2V0IiwibGFuZ0J0bnMiLCJoYW5kbGVDdXJyZW50WWVhciIsInllYXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiXSwibWFwcGluZ3MiOiJvd0RBRUEsSUFBTUEsYUFBZUMsU0FBU0MsaUJBQWlCLDZCQUE2QixFQUN0RUMsYUFBZUYsU0FBU0csY0FB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eEMsSUFBTWtDLFdBQWFuSSxTQUFTRyxjQUFjLG9CQUFvQixFQUN4RHFJLGtCQUFvQixXQUN6QixJQUFNQyxHQUFPLElBQUlDLE1BQU9DLFlBQVksRUFDcENSLFdBQVdqRSxVQUFZdUUsQ0FDeEIsRUFFQUQsa0JBQWtCIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy9OYXZiYXJcblxuY29uc3QgbWVudU9wZW5CdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdl9fbW9iaWxlLW1lbnUtYnRuLS1vcGVuJylcbmNvbnN0IG1lbnVDbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX21vYmlsZS1tZW51LWJ0bi0tY2xvc2UnKVxuY29uc3QgbW9iaWxlTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX21lbnUnKVxuY29uc3QgbWVudUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdl9fbWVudS1pdGVtJylcbmNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JylcblxubWVudU9wZW5CdG5zLmZvckVhY2goYnRuID0+XG5cdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRtb2JpbGVNZW51LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG5cdFx0YnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGUtYnRuJylcblx0XHRtZW51Q2xvc2VCdG4uY2xhc3NMaXN0LmFkZCgnc2hvdy1idG4nKVxuXHRcdGJvZHkuY2xhc3NMaXN0LmFkZCgnc3RvcC1zY3JvbGxpbmcnKVxuXHRcdGxhbmdMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZS1sYW5nJylcblxuXHR9KVxuKVxuXG5tZW51Q2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdG1vYmlsZU1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcblx0bWVudU9wZW5CdG5zLmZvckVhY2goYnRuID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlLWJ0bicpKVxuXHRtZW51Q2xvc2VCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdy1idG4nKVxuXHRib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3N0b3Atc2Nyb2xsaW5nJylcbn0pXG5cbm1lbnVJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuXHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdG1vYmlsZU1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcblx0XHRtZW51T3BlbkJ0bnMuZm9yRWFjaChidG4gPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUtYnRuJykpXG5cdFx0bWVudUNsb3NlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3ctYnRuJylcblx0XHRib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3N0b3Atc2Nyb2xsaW5nJylcblx0fSlcbn0pXG5cbi8vIE11bHRpbGFuZ3VhZ2UgbWVudVxuXG5jb25zdCBtdWx0aUxhbmdCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdl9fbW9yZS1sYW5nLWJ0bicpXG5jb25zdCBsYW5nTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX2xhbmctbGlzdCcpXG5cbm11bHRpTGFuZ0J0bnMuZm9yRWFjaChidG4gPT4ge1xuXHRidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0bGFuZ0xpc3QuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlLWxhbmcnKVxuXHRcdG1vYmlsZU1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcblx0XHRtZW51T3BlbkJ0bnMuZm9yRWFjaChidG4gPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUtYnRuJykpXG5cdFx0bWVudUNsb3NlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3ctYnRuJylcblx0XHRib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3N0b3Atc2Nyb2xsaW5nJylcblxuXHR9KVxufSlcblxuY29uc3QgY2xvc2VMYW5nID0gKCkgPT4ge1xuXHRsYW5nTGlzdC5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUtbGFuZycpXG5cdFxufVxuXG4vLyBjb25zdCBjbG9zZUxhbmdPdXRzaWRlID0gZSA9PiB7XG4vLyBcdGlmICggZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXZfX21vcmUtbGFuZy1idG4nKSkgcmV0dXJuXG5cbi8vIFx0Y2xvc2VMYW5nKClcbi8vIH1cblxuLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VMYW5nT3V0c2lkZSlcblxuLy8gR2FsbGVyeSBjYXJvdXNlbFxuXG5jb25zdCBnYWxsZXJ5U2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNob3dyZWVsX19nYWxsZXJ5LWltZy1ib3gnKVxuY29uc3QgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNhcm91c2VsLWJ1dHRvbl0nKVxuY29uc3QgZ2FsbGVyeUJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaG93cmVlbF9fZ2FsbGVyeS1pbWctYm94JylcblxuYnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiB7XG5cdGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRjb25zdCBvZmZzZXQgPSBidXR0b24uZGF0YXNldC5jYXJvdXNlbEJ1dHRvbiA9PT0gJ25leHQnID8gMSA6IC0xXG5cblx0XHRjb25zdCBpbWdQb3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2hvd3JlZWxfX3Bvc2l0aW9uJylcblxuXHRcdGltZ1Bvcy5mb3JFYWNoKChzbGlkZSwgaW5kZXgpID0+IHtcblx0XHRcdGNvbnN0IGluZGV4U2xpZGUgPSBnYWxsZXJ5U2xpZGVyLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXNsaWRlLSR7aW5kZXh9XWApXG5cblx0XHRcdGxldCBuZXdTbGlkZSA9IFsuLi5pbWdQb3NdLmluZGV4T2YoaW5kZXhTbGlkZSkgKyBvZmZzZXRcblxuXHRcdFx0aWYgKG5ld1NsaWRlIDwgMCkgbmV3U2xpZGUgPSBpbWdQb3MubGVuZ3RoIC0gMVxuXHRcdFx0aWYgKG5ld1NsaWRlID4gaW1nUG9zLmxlbmd0aCAtIDEpIG5ld1NsaWRlID0gMFxuXG5cdFx0XHRpbWdQb3NbbmV3U2xpZGVdLmRhdGFzZXRbYHNsaWRlLSR7aW5kZXh9YF0gPSB0cnVlXG5cdFx0XHRkZWxldGUgaW5kZXhTbGlkZS5kYXRhc2V0W2BzbGlkZS0ke2luZGV4fWBdXG5cdFx0fSlcblx0fSlcbn0pXG5cbmNvbnN0IHNob3dSZWxsTW9iaWxlQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNob3ctYnRuXScpXG5jb25zdCBuZXh0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2hvdy1idG49XCJuZXh0XCJdJylcbmNvbnN0IHByZXZCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaG93LWJ0bj1cInByZXZcIl0nKVxubGV0IGNvbnRlbnRXaWR0aCA9IDE2MDBcblxuXG5zaG93UmVsbE1vYmlsZUJ0bnMuZm9yRWFjaChidXR0b24gPT4ge1xuXHRidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0bGV0IGNvdW50ZXIgPSBidXR0b24uZGF0YXNldC5zaG93QnRuID09PSAnbmV4dCcgPyAxIDogLTFcblxuXHRcdGNvbnN0IGltZ0xpc3QgPSBidXR0b24uY2xvc2VzdCgnW2RhdGEtY2Fyb3VzZWxdJykucXVlcnlTZWxlY3RvcignW2RhdGEtY2Fyb3VzZWwtaW1nc10nKVxuXG5cdFx0Y29uc3QgYWN0aXZlSW1nID0gaW1nTGlzdC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmVdJylcblxuXHRcdGxldCBuZXdBY3RpdmVJbWcgPSAobmV3QWN0aXZlSW1nID0gWy4uLmltZ0xpc3QuY2hpbGRyZW5dLmluZGV4T2YoYWN0aXZlSW1nKSArIGNvdW50ZXIpXG5cblx0XHRpZiAobmV3QWN0aXZlSW1nIDwgMCkgbmV3QWN0aXZlSW1nID0gaW1nTGlzdC5jaGlsZHJlbi5sZW5ndGggLSAxXG5cdFx0aWYgKG5ld0FjdGl2ZUltZyA+PSBpbWdMaXN0LmNoaWxkcmVuLmxlbmd0aCkgbmV3QWN0aXZlSW1nID0gMFxuXG5cdFx0aW1nTGlzdC5jaGlsZHJlbltuZXdBY3RpdmVJbWddLmRhdGFzZXQuYWN0aXZlID0gdHJ1ZVxuXHRcdGRlbGV0ZSBhY3RpdmVJbWcuZGF0YXNldC5hY3RpdmVcblx0fSlcbn0pXG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG5cdGxldCBpbnNldFdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGhcblx0bGV0IGJveFdpZHRoID0gaW5zZXRXaW5kb3dXaWR0aCAvIGNvbnRlbnRXaWR0aFxuXHRnYWxsZXJ5Qm94LnN0eWxlLnRyYW5zZm9ybSA9IGJveFdpZHRoID49IDEgPyAnc2NhbGUoMSknIDogYHNjYWxlKCR7Ym94V2lkdGh9KWBcbn0pXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcblx0bGV0IGluc2V0V2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aFxuXHRsZXQgYm94V2lkdGggPSBpbnNldFdpbmRvd1dpZHRoIC8gY29udGVudFdpZHRoXG5cdGdhbGxlcnlCb3guc3R5bGUudHJhbnNmb3JtID0gIGJveFdpZHRoID49IDEgPyAnc2NhbGUoMSknIDogYHNjYWxlKCR7Ym94V2lkdGh9KWBcbn0pXG5cbi8vIFF1ZXN0aW9ucyBhY2NvcmRlb25cblxuY29uc3QgYWNjb3JkZW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF1ZXN0aW9uc19fYm94LWxpc3RzJylcbmNvbnN0IGFjY29yZGVvbkJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucXVlc3Rpb25zX19hY2NvcmRlb24tYm94LWNvbnRlbnQnKVxuXG5mdW5jdGlvbiBvcGVuQWNjb3JkZW9uSXRlbXMoKSB7XG5cdGlmICh0aGlzLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctYWNjJykpIHtcblx0XHR0aGlzLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LWFjYycpXG5cdFx0dGhpcy5sYXN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG5cdH0gZWxzZSB7XG5cdFx0Y2xvc2VBY2NvcmRlb25JdGVtcygpXG5cdFx0dGhpcy5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdy1hY2MnKVxuXHRcdHRoaXMubGFzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKVxuXHR9XG59XG5cbmNvbnN0IGNsb3NlQWNjb3JkZW9uSXRlbXMgPSAoKSA9PiB7XG5cdGNvbnN0IGFsbEFjdGl2ZUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnF1ZXN0aW9uc19fYWNjb3JkZW9uLWluZm8nKVxuXHRhbGxBY3RpdmVJdGVtcy5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LWFjYycpKVxuXHRhY2NvcmRlb25CdG5zLmZvckVhY2goYnRuID0+IHtcblx0XHRidG4ubGFzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuXHR9KVxufVxuXG5jb25zdCBjbGlja091dHNpZGVBY2NvcmRlb24gPSBlID0+IHtcblx0aWYgKFxuXHRcdGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGFyZ2V0JykgfHxcblx0XHRlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3F1ZXN0aW9uc19fYWNjb3JkZW9uLWluZm8nKSB8fFxuXHRcdGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncXVlc3Rpb25zX19hY2NvcmRlb24taW5mby10ZXh0Jylcblx0KVxuXHRcdHJldHVyblxuXG5cdGNsb3NlQWNjb3JkZW9uSXRlbXMoKVxufVxuXG5hY2NvcmRlb25CdG5zLmZvckVhY2goYnRuID0+IHtcblx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkFjY29yZGVvbkl0ZW1zKVxufSlcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xpY2tPdXRzaWRlQWNjb3JkZW9uKVxuXG4vL0NvbnRhY3QgZm9ybSBzbGlkZXJcblxuY29uc3QgZnJvbVNsaWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmcm9tU2xpZGVyJylcbmNvbnN0IHRvU2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvU2xpZGVyJylcbmNvbnN0IGZyb21JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmcm9tSW5wdXQnKVxuY29uc3QgdG9JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0b0lucHV0JylcblxuZnVuY3Rpb24gY29udHJvbEZyb21TbGlkZXIoZnJvbVNsaWRlciwgdG9TbGlkZXIsIGZyb21JbnB1dCkge1xuXHRjb25zdCBbZnJvbSwgdG9dID0gZ2V0UGFyc2VkKGZyb21TbGlkZXIsIHRvU2xpZGVyKVxuXHRmaWxsU2xpZGVyKGZyb21TbGlkZXIsIHRvU2xpZGVyLCAnI0M2QzZDNicsICcjYjYwNzMyJywgdG9TbGlkZXIpXG5cdGlmIChmcm9tID4gdG8pIHtcblx0XHRmcm9tU2xpZGVyLnZhbHVlID0gdG9cblx0XHRmcm9tSW5wdXQuaW5uZXJUZXh0ID0gYCR7dG99IHrFgmBcblx0fSBlbHNlIHtcblx0XHRmcm9tSW5wdXQuaW5uZXJUZXh0ID0gYCR7ZnJvbX0gesWCYFxuXHR9XG59XG5cbmZ1bmN0aW9uIGNvbnRyb2xUb1NsaWRlcihmcm9tU2xpZGVyLCB0b1NsaWRlciwgdG9JbnB1dCkge1xuXHRjb25zdCBbZnJvbSwgdG9dID0gZ2V0UGFyc2VkKGZyb21TbGlkZXIsIHRvU2xpZGVyKVxuXHRmaWxsU2xpZGVyKGZyb21TbGlkZXIsIHRvU2xpZGVyLCAnI0M2QzZDNicsICcjYjYwNzMyJywgdG9TbGlkZXIpXG5cdHNldFRvZ2dsZUFjY2Vzc2libGUodG9TbGlkZXIpXG5cdGlmIChmcm9tIDw9IHRvKSB7XG5cdFx0dG9TbGlkZXIudmFsdWUgPSB0b1xuXHRcdHRvSW5wdXQuaW5uZXJUZXh0ID0gYCR7dG99IHrFgmBcblx0fSBlbHNlIHtcblx0XHR0b0lucHV0LmlubmVyVGV4dCA9IGAke2Zyb219IHrFgmBcblx0XHR0b1NsaWRlci52YWx1ZSA9IGZyb21cblx0fVxufVxuXG5mdW5jdGlvbiBnZXRQYXJzZWQoY3VycmVudEZyb20sIGN1cnJlbnRUbykge1xuXHRjb25zdCBmcm9tID0gcGFyc2VJbnQoY3VycmVudEZyb20udmFsdWUsIDEwKVxuXHRjb25zdCB0byA9IHBhcnNlSW50KGN1cnJlbnRUby52YWx1ZSwgMTApXG5cdHJldHVybiBbZnJvbSwgdG9dXG59XG5cbmZ1bmN0aW9uIGZpbGxTbGlkZXIoZnJvbSwgdG8sIHNsaWRlckNvbG9yLCByYW5nZUNvbG9yLCBjb250cm9sU2xpZGVyKSB7XG5cdGNvbnN0IHJhbmdlRGlzdGFuY2UgPSB0by5tYXggLSB0by5taW5cblx0Y29uc3QgZnJvbVBvc2l0aW9uID0gZnJvbS52YWx1ZSAtIHRvLm1pblxuXHRjb25zdCB0b1Bvc2l0aW9uID0gdG8udmFsdWUgLSB0by5taW5cblx0Y29udHJvbFNsaWRlci5zdHlsZS5iYWNrZ3JvdW5kID0gYGxpbmVhci1ncmFkaWVudChcbiAgICAgIHRvIHJpZ2h0LFxuICAgICAgJHtzbGlkZXJDb2xvcn0gMCUsXG4gICAgICAke3NsaWRlckNvbG9yfSAkeyhmcm9tUG9zaXRpb24gLyByYW5nZURpc3RhbmNlKSAqIDEwMH0lLFxuICAgICAgJHtyYW5nZUNvbG9yfSAkeyhmcm9tUG9zaXRpb24gLyByYW5nZURpc3RhbmNlKSAqIDEwMH0lLFxuICAgICAgJHtyYW5nZUNvbG9yfSAkeyh0b1Bvc2l0aW9uIC8gcmFuZ2VEaXN0YW5jZSkgKiAxMDB9JSwgXG4gICAgICAke3NsaWRlckNvbG9yfSAkeyh0b1Bvc2l0aW9uIC8gcmFuZ2VEaXN0YW5jZSkgKiAxMDB9JSwgXG4gICAgICAke3NsaWRlckNvbG9yfSAxMDAlKWBcbn1cblxuZnVuY3Rpb24gc2V0VG9nZ2xlQWNjZXNzaWJsZShjdXJyZW50VGFyZ2V0KSB7XG5cdGNvbnN0IHRvU2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvU2xpZGVyJylcblx0aWYgKE51bWJlcihjdXJyZW50VGFyZ2V0LnZhbHVlKSA8PSAwKSB7XG5cdFx0dG9TbGlkZXIuc3R5bGUuekluZGV4ID0gMlxuXHR9IGVsc2Uge1xuXHRcdHRvU2xpZGVyLnN0eWxlLnpJbmRleCA9IDBcblx0fVxufVxuXG5maWxsU2xpZGVyKGZyb21TbGlkZXIsIHRvU2xpZGVyLCAnI0M2QzZDNicsICcjYjYwNzMyJywgdG9TbGlkZXIpXG5zZXRUb2dnbGVBY2Nlc3NpYmxlKHRvU2xpZGVyKVxuXG5mcm9tU2xpZGVyLm9uaW5wdXQgPSAoKSA9PiBjb250cm9sRnJvbVNsaWRlcihmcm9tU2xpZGVyLCB0b1NsaWRlciwgZnJvbUlucHV0KVxudG9TbGlkZXIub25pbnB1dCA9ICgpID0+IGNvbnRyb2xUb1NsaWRlcihmcm9tU2xpZGVyLCB0b1NsaWRlciwgdG9JbnB1dClcblxuXG4vL011bHRpIGxhbmd1YWdlXG5cblxuY29uc3QgbGFuZ0J0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19sYW5nLWJ0bicpXHRcdFx0XG5cblxubGV0IE11bHRpTGFuZyA9IGZ1bmN0aW9uKHVybCwgbGFuZywgb25sb2FkKVxue1xuXHRcblx0dGhpcy5waHJhc2VzID0ge307XG5cblx0dGhpcy5zZWxlY3RlZExhbmd1YWdlID0gKGxhbmcgfHwgbmF2aWdhdG9yLmxhbmd1YWdlIHx8IG5hdmlnYXRvci51c2VyTGFuZ3VhZ2UpLnN1YnN0cmluZygwLCAyKTtcblx0XG5cdHRoaXMub25Mb2FkID0gb25sb2FkO1xuXG5cdGlmICh0eXBlb2YgdXJsICE9PSAndW5kZWZpbmVkJykge1xuXHRcdGxldCBvYmogPSB0aGlzO1xuXHRcdGxldCByZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuXHRcdHJlcS5vcGVuKFwiR0VUXCIsIHVybCwgdHJ1ZSk7XG5cdFx0cmVxLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIChldnQpIHtcblx0XHRcdGlmIChldnQudGFyZ2V0LnJlYWR5U3RhdGUgPT0gNCAmJiBldnQudGFyZ2V0LnN0YXR1cyA9PSAyMDApIFxuXHRcdFx0e1xuXHRcdFx0XHR0aGlzLnBocmFzZXMgPSBKU09OLnBhcnNlKCBldnQudGFyZ2V0LnJlc3BvbnNlVGV4dCApO1xuXG5cdFx0XHRcdHRoaXMuc2V0TGFuZ3VhZ2UodGhpcy5zZWxlY3RlZExhbmd1YWdlKTtcblx0XHRcdFx0XG5cdFx0XHRcdGlmICh0aGlzLm9uTG9hZCkge1xuXHRcdFx0XHRcdHRoaXMub25Mb2FkKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fTtcblx0XHR9LmJpbmQob2JqKTtcblx0XHRyZXEuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdGNvbnNvbGUubG9nKCdNdWx0aUxhbmcuanM6IEVycm9yIHJlYWRpbmcganNvbiBmaWxlLicpO1xuXHRcdH0sIGZhbHNlKTtcblx0XHRcblx0XHRyZXEuc2VuZChudWxsKTtcblx0fTtcblxuXHR0aGlzLnNldExhbmd1YWdlID0gZnVuY3Rpb24obGFuZ2NvZGUpIHtcblx0XHRpZiAoIXRoaXMucGhyYXNlcy5oYXNPd25Qcm9wZXJ0eShsYW5nY29kZSkpIHtcblx0XHRcdGZvciAobGV0IGtleSBpbiB0aGlzLnBocmFzZXMpIHtcblx0XHRcdFx0aWYgKHRoaXMucGhyYXNlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0XHRcdFx0bGFuZ2NvZGUgPSBrZXk7IFxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9O1xuXHRcdFx0fTtcblx0XHR9O1xuXG5cdFx0dGhpcy5zZWxlY3RlZExhbmd1YWdlID0gbGFuZ2NvZGU7XG5cdH07XG5cblx0dGhpcy5nZXQgPSBmdW5jdGlvbihrZXkpIHtcblx0XHRsZXQgc3RyO1xuXHRcdGlmICh0aGlzLnBocmFzZXNbdGhpcy5zZWxlY3RlZExhbmd1YWdlXSkgc3RyID0gdGhpcy5waHJhc2VzW3RoaXMuc2VsZWN0ZWRMYW5ndWFnZV1ba2V5XTtcblxuICAgIHN0ciA9IChzdHIgfHwga2V5KVxuXHRcdHJldHVybiBzdHI7XG59XG59XG5sZXQgbXVsdGlsYW5nO1xuXG5cbmZ1bmN0aW9uIG9uTG9hZCgpIHtcblxuICBtdWx0aWxhbmcgPSBuZXcgTXVsdGlMYW5nKCdkYXRhTGFuZy5qc29uJywgJ2VuJyk7XG59XG5cbmZ1bmN0aW9uIGxhbmdTZWxlY3RDaGFuZ2Uoc2VsKSB7XG4gIG11bHRpbGFuZy5zZXRMYW5ndWFnZShzZWwudmFsdWUpO1xuICByZWZyZXNoTGFiZWxzKCk7XG59XG5cbmZ1bmN0aW9uIHJlZnJlc2hMYWJlbHMoKSB7XG4gIGxldCBhbGxub2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1sYW5nXVwiKTtcblxuICBcbiAgZm9yIChsZXQgaT0wLCBtYXg9YWxsbm9kZXMubGVuZ3RoOyBpIDwgbWF4OyBpKyspIHtcbiAgICBsZXQgaWRuYW1lID0gYWxsbm9kZXNbaV0uZGF0YXNldC5sYW5nO1xuICAgIGlmIChpZG5hbWUgIT0gJycpIHtcbiAgICAgIGFsbG5vZGVzW2ldLnRleHRDb250ZW50ID0gbXVsdGlsYW5nLmdldChpZG5hbWUpO1xuICAgIH07XG4gIH07XG59XG5cbiAgbGFuZ0J0bnMuZm9yRWFjaChidG4gPT4gXG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgICBsYW5nU2VsZWN0Q2hhbmdlKGUudGFyZ2V0KVxuXG4gIH0pXG4gIClcblxuICBib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBvbkxvYWQoKSlcblxuXG4gIC8vIEZvb3RlciBjdXJyZW50IHllYXJcblxuY29uc3QgZm9vdGVyWWVhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXJfX2Zvb3QteWVhcicpXG5jb25zdCBoYW5kbGVDdXJyZW50WWVhciA9ICgpID0+IHtcblx0Y29uc3QgeWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKVxuXHRmb290ZXJZZWFyLmlubmVyVGV4dCA9IHllYXJcbn1cblxuaGFuZGxlQ3VycmVudFllYXIoKSJdfQ==
