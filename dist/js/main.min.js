"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,i=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw o}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var menuOpenBtns=document.querySelectorAll(".nav__mobile-menu-btn--open"),menuCloseBtn=document.querySelector(".nav__mobile-menu-btn--close"),mobileMenu=document.querySelector(".nav__menu"),menuItems=document.querySelectorAll(".nav__menu-item"),body=document.querySelector("body"),multiLangBtns=(menuOpenBtns.forEach(function(e){return e.addEventListener("click",function(){mobileMenu.classList.add("active"),e.classList.add("hide-btn"),menuCloseBtn.classList.add("show-btn"),body.classList.add("stop-scrolling"),langList.classList.remove("active-lang")})}),menuCloseBtn.addEventListener("click",function(){mobileMenu.classList.remove("active"),menuOpenBtns.forEach(function(e){return e.classList.remove("hide-btn")}),menuCloseBtn.classList.remove("show-btn"),body.classList.remove("stop-scrolling")}),menuItems.forEach(function(e){e.addEventListener("click",function(){mobileMenu.classList.remove("active"),menuOpenBtns.forEach(function(e){return e.classList.remove("hide-btn")}),menuCloseBtn.classList.remove("show-btn"),body.classList.remove("stop-scrolling")})}),document.querySelectorAll(".nav__more-lang-btn")),langList=document.querySelector(".nav__lang-list"),closeLang=(multiLangBtns.forEach(function(e){e.addEventListener("click",function(){langList.classList.toggle("active-lang"),mobileMenu.classList.remove("active"),menuOpenBtns.forEach(function(e){return e.classList.remove("hide-btn")}),menuCloseBtn.classList.remove("show-btn"),body.classList.remove("stop-scrolling")})}),function(){langList.classList.toggle("active-lang")}),gallerySlider=document.querySelector(".showreel__gallery-img-box"),buttons=document.querySelectorAll("[data-carousel-button]"),galleryBox=document.querySelector(".showreel__gallery-img-box"),showRellMobileBtns=(buttons.forEach(function(e){e.addEventListener("click",function(){var o="next"===e.dataset.carouselButton?1:-1,a=document.querySelectorAll(".showreel__position");a.forEach(function(e,t){var n=gallerySlider.querySelector("[data-slide-".concat(t,"]")),r=_toConsumableArray(a).indexOf(n)+o;(r=r<0?a.length-1:r)>a.length-1&&(r=0),a[r].dataset["slide-".concat(t)]=!0,delete n.dataset["slide-".concat(t)]})})}),document.querySelectorAll("[data-show-btn]")),nextBtn=document.querySelector('[data-show-btn="next"]'),prevBtn=document.querySelector('[data-show-btn="prev"]'),contentWidth=1600,accordeon=(showRellMobileBtns.forEach(function(r){r.addEventListener("click",function(){var e="next"===r.dataset.showBtn?1:-1,t=r.closest("[data-carousel]").querySelector("[data-carousel-imgs]"),n=t.querySelector("[data-active]"),e=_toConsumableArray(t.children).indexOf(n)+e;(e=e<0?t.children.length-1:e)>=t.children.length&&(e=0),t.children[e].dataset.active=!0,delete n.dataset.active})}),window.addEventListener("resize",function(){var e=window.innerWidth/contentWidth;galleryBox.style.transform=1<=e?"scale(1)":"scale(".concat(e,")")}),window.addEventListener("load",function(){var e=window.innerWidth/contentWidth;galleryBox.style.transform=1<=e?"scale(1)":"scale(".concat(e,")")}),document.querySelector(".questions__box-lists")),accordeonBtns=document.querySelectorAll(".questions__accordeon-box-content");function openAccordeonItems(){this.nextElementSibling.classList.contains("show-acc")?(this.nextElementSibling.classList.remove("show-acc"),this.lastElementChild.classList.remove("active")):(closeAccordeonItems(),this.nextElementSibling.classList.toggle("show-acc"),this.lastElementChild.classList.toggle("active"))}var closeAccordeonItems=function(){document.querySelectorAll(".questions__accordeon-info").forEach(function(e){return e.classList.remove("show-acc")}),accordeonBtns.forEach(function(e){e.lastElementChild.classList.remove("active")})},clickOutsideAccordeon=function(e){e.target.classList.contains("target")||e.target.classList.contains("questions__accordeon-info")||e.target.classList.contains("questions__accordeon-info-text")||closeAccordeonItems()},fromSlider=(accordeonBtns.forEach(function(e){e.addEventListener("click",openAccordeonItems)}),window.addEventListener("click",clickOutsideAccordeon),document.querySelector("#fromSlider")),toSlider=document.querySelector("#toSlider"),fromInput=document.querySelector("#fromInput"),toInput=document.querySelector("#toInput");function controlFromSlider(e,t,n){var r=_slicedToArray(getParsed(e,t),2),o=r[0],r=r[1];fillSlider(e,t,"#C6C6C6","#b60732",t),r<o?(e.value=r,n.innerText="".concat(r," ")):n.innerText="".concat(o,"  ")}function controlToSlider(e,t,n){var r=_slicedToArray(getParsed(e,t),2),o=r[0],r=r[1];fillSlider(e,t,"#C6C6C6","#b60732",t),setToggleAccessible(t),o<=r?(t.budget=r,n.innerText="".concat(r," ")):(n.innerText="".concat(o," "),t.value=o)}function getParsed(e,t){return[parseInt(e.value,10),parseInt(t.value,10)]}function fillSlider(e,t,n,r,o){var a=t.max-t.min,e=e.value-t.min,t=t.value-t.min;o.style.background="linear-gradient(\n      to right,\n      ".concat(n," 0%,\n      ").concat(n," ").concat(e/a*100,"%,\n      ").concat(r," ").concat(e/a*100,"%,\n      ").concat(r," ").concat(t/a*100,"%, \n      ").concat(n," ").concat(t/a*100,"%, \n      ").concat(n," 100%)")}function setToggleAccessible(e){var t=document.querySelector("#toSlider");Number(e.value)<=0?t.style.zIndex=2:t.style.zIndex=0}fillSlider(fromSlider,toSlider,"#C6C6C6","#b60732",toSlider),setToggleAccessible(toSlider),fromSlider.oninput=function(){return controlFromSlider(fromSlider,toSlider,fromInput)},toSlider.oninput=function(){return controlToSlider(fromSlider,toSlider,toInput)};var multilang,langBtns=document.querySelectorAll(".nav__lang-btn"),MultiLang=function(e,t,n){this.phrases={},this.selectedLanguage=(t||navigator.language||navigator.userLanguage).substring(0,2),this.onLoad=n,void 0!==e&&((t=new XMLHttpRequest).open("GET",e,!0),t.onreadystatechange=function(e){4==e.target.readyState&&200==e.target.status&&(this.phrases=JSON.parse(e.target.responseText),this.setLanguage(this.selectedLanguage),this.onLoad)&&this.onLoad()}.bind(this),t.addEventListener("error",function(e){console.log("MultiLang.js: Error reading json file.")},!1),t.send(null)),this.setLanguage=function(e){if(!this.phrases.hasOwnProperty(e))for(var t in this.phrases)if(this.phrases.hasOwnProperty(t)){e=t;break}this.selectedLanguage=e},this.get=function(e){var t;return t=(t=this.phrases[this.selectedLanguage]?this.phrases[this.selectedLanguage][e]:t)||e}};function onLoad(){multilang=new MultiLang("dataLang.json","en")}function langSelectChange(e){multilang.setLanguage(e.value),refreshLabels()}function refreshLabels(){for(var e=document.querySelectorAll("[data-lang]"),t=0,n=e.length;t<n;t++){var r=e[t].dataset.lang;""!=r&&(e[t].textContent=multilang.get(r))}}langBtns.forEach(function(e){return e.addEventListener("click",function(e){langSelectChange(e.target)})}),body.addEventListener("load",onLoad()),langBtns.forEach(function(e){return e.addEventListener("click",function(){langList.classList.remove("active-lang")})});var footerYear=document.querySelector(".footer__foot-year"),handleCurrentYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e};handleCurrentYear();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibWVudU9wZW5CdG5zIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwibWVudUNsb3NlQnRuIiwicXVlcnlTZWxlY3RvciIsIm1vYmlsZU1lbnUiLCJtZW51SXRlbXMiLCJib2R5IiwibXVsdGlMYW5nQnRucyIsImZvckVhY2giLCJidG4iLCJhZGRFdmVudExpc3RlbmVyIiwiY2xhc3NMaXN0IiwiYWRkIiwibGFuZ0xpc3QiLCJyZW1vdmUiLCJpdGVtIiwiZ2FsbGVyeVNsaWRlciIsImJ1dHRvbnMiLCJnYWxsZXJ5Qm94Iiwic2hvd1JlbGxNb2JpbGVCdG5zIiwiYnV0dG9uIiwib2Zmc2V0IiwiZGF0YXNldCIsImNhcm91c2VsQnV0dG9uIiwiaW1nUG9zIiwic2xpZGUiLCJjb25jYXQiLCJpbmRleCIsIm5ld1NsaWRlIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiaW5kZXhTbGlkZSIsImxlbmd0aCIsIm5leHRCdG4iLCJwcmV2QnRuIiwiYWNjb3JkZW9uIiwic2hvd0J0biIsImltZ0xpc3QiLCJjbG9zZXN0IiwibmV3QWN0aXZlSW1nIiwiY2hpbGRyZW4iLCJhY3RpdmVJbWciLCJjb3VudGVyIiwid2luZG93IiwiYWN0aXZlIiwiaW5zZXRXaW5kb3dXaWR0aCIsImJveFdpZHRoIiwiaW5uZXJXaWR0aCIsImNvbnRlbnRXaWR0aCIsInN0eWxlIiwidHJhbnNmb3JtIiwibGFzdEVsZW1lbnRDaGlsZCIsImFjY29yZGVvbkJ0bnMiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJ0aGlzIiwidG9nZ2xlIiwiY2xvc2VBY2NvcmRlb25JdGVtcyIsImFsbEFjdGl2ZUl0ZW1zIiwiY2xpY2tPdXRzaWRlQWNjb3JkZW9uIiwiZSIsInRhcmdldCIsImNvbnRhaW5zIiwiZnJvbUlucHV0IiwiX2dldFBhcnNlZDIiLCJfc2xpY2VkVG9BcnJheSIsImZyb20iLCJvcGVuQWNjb3JkZW9uSXRlbXMiLCJpbm5lclRleHQiLCJ0b1NsaWRlciIsInRvSW5wdXQiLCJjb250cm9sVG9TbGlkZXIiLCJmcm9tU2xpZGVyIiwic2V0VG9nZ2xlQWNjZXNzaWJsZSIsImdldFBhcnNlZCIsImJ1ZGdldCIsImZpbGxTbGlkZXIiLCJ0byIsIl9nZXRQYXJzZWQ0IiwicmFuZ2VEaXN0YW5jZSIsImZyb21Qb3NpdGlvbiIsImNvbnRyb2xTbGlkZXIiLCJOdW1iZXIiLCJjdXJyZW50VGFyZ2V0IiwidmFsdWUiLCJ6SW5kZXgiLCJjdXJyZW50VG8iLCJvbmlucHV0IiwibWF4IiwibWluIiwidG9Qb3NpdGlvbiIsImJhY2tncm91bmQiLCJNdWx0aUxhbmciLCJwaHJhc2VzIiwic2VsZWN0ZWRMYW5ndWFnZSIsIm5hdmlnYXRvciIsIm9uTG9hZCIsIm9ubG9hZCIsInNsaWRlckNvbG9yIiwib2JqIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsImV2dCIsInN0YXR1cyIsIkpTT04iLCJwYXJzZSIsInNldExhbmd1YWdlIiwiY29udHJvbEZyb21TbGlkZXIiLCJzZW5kIiwibXVsdGlsYW5nIiwibGFuZ0J0bnMiLCJsYW5nY29kZSIsInVybCIsImxhbmciLCJsYW5ndWFnZSIsInVzZXJMYW5ndWFnZSIsInN1YnN0cmluZyIsInJlcSIsInN0ciIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInJlc3BvbnNlVGV4dCIsInNlbCIsInJlZnJlc2hMYWJlbHMiLCJiaW5kIiwiaWRuYW1lIiwiYWxsbm9kZXMiLCJ0ZXh0Q29udGVudCIsImNvbnNvbGUiLCJsb2ciLCJsYW5nU2VsZWN0Q2hhbmdlIiwiaGFzT3duUHJvcGVydHkiLCJrZXkiLCJmb290ZXJZZWFyIiwiaGFuZGxlQ3VycmVudFllYXIiLCJ5ZWFyIiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwiaSIsImdldCJdLCJtYXBwaW5ncyI6Im93REFFQSxJQUFNQSxhQUFlQyxTQUFTQyxpQkFBaUIsNkJBQTZCLEVBQ3RFQyxhQUFlRixTQUFTRyxjQUFjLDhCQUE4QixFQUNwRUMsV0FBYUosU0FBU0csY0FBYyxZQUFZ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YyxTQUFTcEcsUUFBUSxTQUFBQyxHQUFHLE9BQUlBLEVBQUlDLGlCQUFpQixRQUFTLFdBQ3ZERyxTQUFTRixVQUFVRyxPQUFPLGFBQWEsQ0FDdEMsQ0FBQyxDQUFDLENBQUEsRUFLSixJQUFNcUgsV0FBYW5JLFNBQVNHLGNBQWMsb0JBQW9CLEVBQ3hEaUksa0JBQW9CLFdBQ3pCLElBQU1DLEdBQU8sSUFBSUMsTUFBT0MsWUFBWSxFQUNwQ0osV0FBV2pFLFVBQVltRSxDQUN4QixFQUVBRCxrQkFBa0IiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL05hdmJhclxuXG5jb25zdCBtZW51T3BlbkJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19tb2JpbGUtbWVudS1idG4tLW9wZW4nKVxuY29uc3QgbWVudUNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fbW9iaWxlLW1lbnUtYnRuLS1jbG9zZScpXG5jb25zdCBtb2JpbGVNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fbWVudScpXG5jb25zdCBtZW51SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19tZW51LWl0ZW0nKVxuY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKVxuXG5tZW51T3BlbkJ0bnMuZm9yRWFjaChidG4gPT5cblx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdG1vYmlsZU1lbnUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcblx0XHRidG4uY2xhc3NMaXN0LmFkZCgnaGlkZS1idG4nKVxuXHRcdG1lbnVDbG9zZUJ0bi5jbGFzc0xpc3QuYWRkKCdzaG93LWJ0bicpXG5cdFx0Ym9keS5jbGFzc0xpc3QuYWRkKCdzdG9wLXNjcm9sbGluZycpXG5cdFx0bGFuZ0xpc3QuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlLWxhbmcnKVxuXG5cdH0pXG4pXG5cbm1lbnVDbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0bW9iaWxlTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuXHRtZW51T3BlbkJ0bnMuZm9yRWFjaChidG4gPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUtYnRuJykpXG5cdG1lbnVDbG9zZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LWJ0bicpXG5cdGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnc3RvcC1zY3JvbGxpbmcnKVxufSlcblxubWVudUl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG5cdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0bW9iaWxlTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuXHRcdG1lbnVPcGVuQnRucy5mb3JFYWNoKGJ0biA9PiBidG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZS1idG4nKSlcblx0XHRtZW51Q2xvc2VCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdy1idG4nKVxuXHRcdGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnc3RvcC1zY3JvbGxpbmcnKVxuXHR9KVxufSlcblxuLy8gTXVsdGlsYW5ndWFnZSBtZW51XG5cbmNvbnN0IG11bHRpTGFuZ0J0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19tb3JlLWxhbmctYnRuJylcbmNvbnN0IGxhbmdMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fbGFuZy1saXN0JylcblxubXVsdGlMYW5nQnRucy5mb3JFYWNoKGJ0biA9PiB7XG5cdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRsYW5nTGlzdC5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUtbGFuZycpXG5cdFx0bW9iaWxlTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuXHRcdG1lbnVPcGVuQnRucy5mb3JFYWNoKGJ0biA9PiBidG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZS1idG4nKSlcblx0XHRtZW51Q2xvc2VCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdy1idG4nKVxuXHRcdGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnc3RvcC1zY3JvbGxpbmcnKVxuXG5cdH0pXG59KVxuXG5jb25zdCBjbG9zZUxhbmcgPSAoKSA9PiB7XG5cdGxhbmdMaXN0LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZS1sYW5nJylcblx0XG59XG5cbi8vIGNvbnN0IGNsb3NlTGFuZ091dHNpZGUgPSBlID0+IHtcbi8vIFx0aWYgKCBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdl9fbW9yZS1sYW5nLWJ0bicpKSByZXR1cm5cblxuLy8gXHRjbG9zZUxhbmcoKVxuLy8gfVxuXG4vLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUxhbmdPdXRzaWRlKVxuXG4vLyBHYWxsZXJ5IGNhcm91c2VsXG5cbmNvbnN0IGdhbGxlcnlTbGlkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2hvd3JlZWxfX2dhbGxlcnktaW1nLWJveCcpXG5jb25zdCBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY2Fyb3VzZWwtYnV0dG9uXScpXG5jb25zdCBnYWxsZXJ5Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNob3dyZWVsX19nYWxsZXJ5LWltZy1ib3gnKVxuXG5idXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcblx0YnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdGNvbnN0IG9mZnNldCA9IGJ1dHRvbi5kYXRhc2V0LmNhcm91c2VsQnV0dG9uID09PSAnbmV4dCcgPyAxIDogLTFcblxuXHRcdGNvbnN0IGltZ1BvcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zaG93cmVlbF9fcG9zaXRpb24nKVxuXG5cdFx0aW1nUG9zLmZvckVhY2goKHNsaWRlLCBpbmRleCkgPT4ge1xuXHRcdFx0Y29uc3QgaW5kZXhTbGlkZSA9IGdhbGxlcnlTbGlkZXIucXVlcnlTZWxlY3RvcihgW2RhdGEtc2xpZGUtJHtpbmRleH1dYClcblxuXHRcdFx0bGV0IG5ld1NsaWRlID0gWy4uLmltZ1Bvc10uaW5kZXhPZihpbmRleFNsaWRlKSArIG9mZnNldFxuXG5cdFx0XHRpZiAobmV3U2xpZGUgPCAwKSBuZXdTbGlkZSA9IGltZ1Bvcy5sZW5ndGggLSAxXG5cdFx0XHRpZiAobmV3U2xpZGUgPiBpbWdQb3MubGVuZ3RoIC0gMSkgbmV3U2xpZGUgPSAwXG5cblx0XHRcdGltZ1Bvc1tuZXdTbGlkZV0uZGF0YXNldFtgc2xpZGUtJHtpbmRleH1gXSA9IHRydWVcblx0XHRcdGRlbGV0ZSBpbmRleFNsaWRlLmRhdGFzZXRbYHNsaWRlLSR7aW5kZXh9YF1cblx0XHR9KVxuXHR9KVxufSlcblxuY29uc3Qgc2hvd1JlbGxNb2JpbGVCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2hvdy1idG5dJylcbmNvbnN0IG5leHRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaG93LWJ0bj1cIm5leHRcIl0nKVxuY29uc3QgcHJldkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNob3ctYnRuPVwicHJldlwiXScpXG5sZXQgY29udGVudFdpZHRoID0gMTYwMFxuXG5cbnNob3dSZWxsTW9iaWxlQnRucy5mb3JFYWNoKGJ1dHRvbiA9PiB7XG5cdGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRsZXQgY291bnRlciA9IGJ1dHRvbi5kYXRhc2V0LnNob3dCdG4gPT09ICduZXh0JyA/IDEgOiAtMVxuXG5cdFx0Y29uc3QgaW1nTGlzdCA9IGJ1dHRvbi5jbG9zZXN0KCdbZGF0YS1jYXJvdXNlbF0nKS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jYXJvdXNlbC1pbWdzXScpXG5cblx0XHRjb25zdCBhY3RpdmVJbWcgPSBpbWdMaXN0LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZV0nKVxuXG5cdFx0bGV0IG5ld0FjdGl2ZUltZyA9IChuZXdBY3RpdmVJbWcgPSBbLi4uaW1nTGlzdC5jaGlsZHJlbl0uaW5kZXhPZihhY3RpdmVJbWcpICsgY291bnRlcilcblxuXHRcdGlmIChuZXdBY3RpdmVJbWcgPCAwKSBuZXdBY3RpdmVJbWcgPSBpbWdMaXN0LmNoaWxkcmVuLmxlbmd0aCAtIDFcblx0XHRpZiAobmV3QWN0aXZlSW1nID49IGltZ0xpc3QuY2hpbGRyZW4ubGVuZ3RoKSBuZXdBY3RpdmVJbWcgPSAwXG5cblx0XHRpbWdMaXN0LmNoaWxkcmVuW25ld0FjdGl2ZUltZ10uZGF0YXNldC5hY3RpdmUgPSB0cnVlXG5cdFx0ZGVsZXRlIGFjdGl2ZUltZy5kYXRhc2V0LmFjdGl2ZVxuXHR9KVxufSlcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcblx0bGV0IGluc2V0V2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aFxuXHRsZXQgYm94V2lkdGggPSBpbnNldFdpbmRvd1dpZHRoIC8gY29udGVudFdpZHRoXG5cdGdhbGxlcnlCb3guc3R5bGUudHJhbnNmb3JtID0gYm94V2lkdGggPj0gMSA/ICdzY2FsZSgxKScgOiBgc2NhbGUoJHtib3hXaWR0aH0pYFxufSlcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuXHRsZXQgaW5zZXRXaW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXG5cdGxldCBib3hXaWR0aCA9IGluc2V0V2luZG93V2lkdGggLyBjb250ZW50V2lkdGhcblx0Z2FsbGVyeUJveC5zdHlsZS50cmFuc2Zvcm0gPSAgYm94V2lkdGggPj0gMSA/ICdzY2FsZSgxKScgOiBgc2NhbGUoJHtib3hXaWR0aH0pYFxufSlcblxuLy8gUXVlc3Rpb25zIGFjY29yZGVvblxuXG5jb25zdCBhY2NvcmRlb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucXVlc3Rpb25zX19ib3gtbGlzdHMnKVxuY29uc3QgYWNjb3JkZW9uQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5xdWVzdGlvbnNfX2FjY29yZGVvbi1ib3gtY29udGVudCcpXG5cbmZ1bmN0aW9uIG9wZW5BY2NvcmRlb25JdGVtcygpIHtcblx0aWYgKHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5jb250YWlucygnc2hvdy1hY2MnKSkge1xuXHRcdHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3ctYWNjJylcblx0XHR0aGlzLmxhc3RFbGVtZW50Q2hpbGQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcblx0fSBlbHNlIHtcblx0XHRjbG9zZUFjY29yZGVvbkl0ZW1zKClcblx0XHR0aGlzLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QudG9nZ2xlKCdzaG93LWFjYycpXG5cdFx0dGhpcy5sYXN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXG5cdH1cbn1cblxuY29uc3QgY2xvc2VBY2NvcmRlb25JdGVtcyA9ICgpID0+IHtcblx0Y29uc3QgYWxsQWN0aXZlSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucXVlc3Rpb25zX19hY2NvcmRlb24taW5mbycpXG5cdGFsbEFjdGl2ZUl0ZW1zLmZvckVhY2goaXRlbSA9PiBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3ctYWNjJykpXG5cdGFjY29yZGVvbkJ0bnMuZm9yRWFjaChidG4gPT4ge1xuXHRcdGJ0bi5sYXN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG5cdH0pXG59XG5cbmNvbnN0IGNsaWNrT3V0c2lkZUFjY29yZGVvbiA9IGUgPT4ge1xuXHRpZiAoXG5cdFx0ZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YXJnZXQnKSB8fFxuXHRcdGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncXVlc3Rpb25zX19hY2NvcmRlb24taW5mbycpIHx8XG5cdFx0ZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdxdWVzdGlvbnNfX2FjY29yZGVvbi1pbmZvLXRleHQnKVxuXHQpXG5cdFx0cmV0dXJuXG5cblx0Y2xvc2VBY2NvcmRlb25JdGVtcygpXG59XG5cbmFjY29yZGVvbkJ0bnMuZm9yRWFjaChidG4gPT4ge1xuXHRidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQWNjb3JkZW9uSXRlbXMpXG59KVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGlja091dHNpZGVBY2NvcmRlb24pXG5cbi8vQ29udGFjdCBmb3JtIHNsaWRlclxuXG5jb25zdCBmcm9tU2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zyb21TbGlkZXInKVxuY29uc3QgdG9TbGlkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG9TbGlkZXInKVxuY29uc3QgZnJvbUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zyb21JbnB1dCcpXG5jb25zdCB0b0lucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvSW5wdXQnKVxuXG5cblxuXG5cbmZ1bmN0aW9uIGNvbnRyb2xGcm9tU2xpZGVyKGZyb21TbGlkZXIsIHRvU2xpZGVyLCBmcm9tSW5wdXQgKSB7XG5cblx0Y29uc3QgW2Zyb20sIHRvXSA9IGdldFBhcnNlZChmcm9tU2xpZGVyLCB0b1NsaWRlcilcblx0ZmlsbFNsaWRlcihmcm9tU2xpZGVyLCB0b1NsaWRlciwgJyNDNkM2QzYnLCAnI2I2MDczMicsIHRvU2xpZGVyKVxuXHRpZiAoZnJvbSA+IHRvKSB7XG5cdFx0ZnJvbVNsaWRlci52YWx1ZSA9IHRvXG5cdFx0ZnJvbUlucHV0LmlubmVyVGV4dCA9IGAke3RvfSBgXG5cdH0gZWxzZSB7XG5cdFx0ZnJvbUlucHV0LmlubmVyVGV4dCA9IGAke2Zyb219ICBgXG5cdH1cblxufVxuXG5mdW5jdGlvbiBjb250cm9sVG9TbGlkZXIoZnJvbVNsaWRlciwgdG9TbGlkZXIsIHRvSW5wdXQpIHtcblxuXHRjb25zdCBbZnJvbSwgdG9dID0gZ2V0UGFyc2VkKGZyb21TbGlkZXIsIHRvU2xpZGVyKVxuXHRmaWxsU2xpZGVyKGZyb21TbGlkZXIsIHRvU2xpZGVyLCAnI0M2QzZDNicsICcjYjYwNzMyJywgdG9TbGlkZXIpXG5cdHNldFRvZ2dsZUFjY2Vzc2libGUodG9TbGlkZXIpXG5cdGlmIChmcm9tIDw9IHRvKSB7XG5cdFx0dG9TbGlkZXIuYnVkZ2V0ID0gdG9cblx0XHR0b0lucHV0LmlubmVyVGV4dCA9IGAke3RvfSBgXG5cdH0gZWxzZSB7XG5cdFx0dG9JbnB1dC5pbm5lclRleHQgPSBgJHtmcm9tfSBgXG5cdFx0dG9TbGlkZXIudmFsdWUgPSBmcm9tXG5cdH1cblxufVxuXG5mdW5jdGlvbiBnZXRQYXJzZWQoY3VycmVudEZyb20sIGN1cnJlbnRUbykge1xuXHRjb25zdCBmcm9tID0gcGFyc2VJbnQoY3VycmVudEZyb20udmFsdWUsIDEwKVxuXHRjb25zdCB0byA9IHBhcnNlSW50KGN1cnJlbnRUby52YWx1ZSwgMTApXG5cdHJldHVybiBbZnJvbSwgdG9dXG59XG5cbmZ1bmN0aW9uIGZpbGxTbGlkZXIoZnJvbSwgdG8sIHNsaWRlckNvbG9yLCByYW5nZUNvbG9yLCBjb250cm9sU2xpZGVyKSB7XG5cdGNvbnN0IHJhbmdlRGlzdGFuY2UgPSB0by5tYXggLSB0by5taW5cblx0Y29uc3QgZnJvbVBvc2l0aW9uID0gZnJvbS52YWx1ZSAtIHRvLm1pblxuXHRjb25zdCB0b1Bvc2l0aW9uID0gdG8udmFsdWUgLSB0by5taW5cblx0Y29udHJvbFNsaWRlci5zdHlsZS5iYWNrZ3JvdW5kID0gYGxpbmVhci1ncmFkaWVudChcbiAgICAgIHRvIHJpZ2h0LFxuICAgICAgJHtzbGlkZXJDb2xvcn0gMCUsXG4gICAgICAke3NsaWRlckNvbG9yfSAkeyhmcm9tUG9zaXRpb24gLyByYW5nZURpc3RhbmNlKSAqIDEwMH0lLFxuICAgICAgJHtyYW5nZUNvbG9yfSAkeyhmcm9tUG9zaXRpb24gLyByYW5nZURpc3RhbmNlKSAqIDEwMH0lLFxuICAgICAgJHtyYW5nZUNvbG9yfSAkeyh0b1Bvc2l0aW9uIC8gcmFuZ2VEaXN0YW5jZSkgKiAxMDB9JSwgXG4gICAgICAke3NsaWRlckNvbG9yfSAkeyh0b1Bvc2l0aW9uIC8gcmFuZ2VEaXN0YW5jZSkgKiAxMDB9JSwgXG4gICAgICAke3NsaWRlckNvbG9yfSAxMDAlKWBcbn1cblxuZnVuY3Rpb24gc2V0VG9nZ2xlQWNjZXNzaWJsZShjdXJyZW50VGFyZ2V0KSB7XG5cdGNvbnN0IHRvU2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvU2xpZGVyJylcblx0aWYgKE51bWJlcihjdXJyZW50VGFyZ2V0LnZhbHVlKSA8PSAwKSB7XG5cdFx0dG9TbGlkZXIuc3R5bGUuekluZGV4ID0gMlxuXHR9IGVsc2Uge1xuXHRcdHRvU2xpZGVyLnN0eWxlLnpJbmRleCA9IDBcblx0fVxufVxuXG5maWxsU2xpZGVyKGZyb21TbGlkZXIsIHRvU2xpZGVyLCAnI0M2QzZDNicsICcjYjYwNzMyJywgdG9TbGlkZXIpXG5zZXRUb2dnbGVBY2Nlc3NpYmxlKHRvU2xpZGVyKVxuXG5mcm9tU2xpZGVyLm9uaW5wdXQgPSAoKSA9PiBjb250cm9sRnJvbVNsaWRlcihmcm9tU2xpZGVyLCB0b1NsaWRlciwgZnJvbUlucHV0KVxudG9TbGlkZXIub25pbnB1dCA9ICgpID0+IGNvbnRyb2xUb1NsaWRlcihmcm9tU2xpZGVyLCB0b1NsaWRlciwgdG9JbnB1dClcblxuXG5cbi8vTXVsdGkgbGFuZ3VhZ2VcblxuXG5jb25zdCBsYW5nQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZfX2xhbmctYnRuJylcdFx0XHRcblxuXG5sZXQgTXVsdGlMYW5nID0gZnVuY3Rpb24odXJsLCBsYW5nLCBvbmxvYWQpXG57XG5cdFxuXHR0aGlzLnBocmFzZXMgPSB7fTtcblxuXHR0aGlzLnNlbGVjdGVkTGFuZ3VhZ2UgPSAobGFuZyB8fCBuYXZpZ2F0b3IubGFuZ3VhZ2UgfHwgbmF2aWdhdG9yLnVzZXJMYW5ndWFnZSkuc3Vic3RyaW5nKDAsIDIpO1xuXHRcblx0dGhpcy5vbkxvYWQgPSBvbmxvYWQ7XG5cblx0aWYgKHR5cGVvZiB1cmwgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0bGV0IG9iaiA9IHRoaXM7XG5cdFx0bGV0IHJlcSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG5cdFx0cmVxLm9wZW4oXCJHRVRcIiwgdXJsLCB0cnVlKTtcblx0XHRyZXEub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKGV2dCkge1xuXHRcdFx0aWYgKGV2dC50YXJnZXQucmVhZHlTdGF0ZSA9PSA0ICYmIGV2dC50YXJnZXQuc3RhdHVzID09IDIwMCkgXG5cdFx0XHR7XG5cdFx0XHRcdHRoaXMucGhyYXNlcyA9IEpTT04ucGFyc2UoIGV2dC50YXJnZXQucmVzcG9uc2VUZXh0ICk7XG5cblx0XHRcdFx0dGhpcy5zZXRMYW5ndWFnZSh0aGlzLnNlbGVjdGVkTGFuZ3VhZ2UpO1xuXHRcdFx0XHRcblx0XHRcdFx0aWYgKHRoaXMub25Mb2FkKSB7XG5cdFx0XHRcdFx0dGhpcy5vbkxvYWQoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9O1xuXHRcdH0uYmluZChvYmopO1xuXHRcdHJlcS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgZnVuY3Rpb24oZSkge1xuXHRcdFx0Y29uc29sZS5sb2coJ011bHRpTGFuZy5qczogRXJyb3IgcmVhZGluZyBqc29uIGZpbGUuJyk7XG5cdFx0fSwgZmFsc2UpO1xuXHRcdFxuXHRcdHJlcS5zZW5kKG51bGwpO1xuXHR9O1xuXG5cdHRoaXMuc2V0TGFuZ3VhZ2UgPSBmdW5jdGlvbihsYW5nY29kZSkge1xuXHRcdGlmICghdGhpcy5waHJhc2VzLmhhc093blByb3BlcnR5KGxhbmdjb2RlKSkge1xuXHRcdFx0Zm9yIChsZXQga2V5IGluIHRoaXMucGhyYXNlcykge1xuXHRcdFx0XHRpZiAodGhpcy5waHJhc2VzLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0XHRsYW5nY29kZSA9IGtleTsgXG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH07XG5cdFx0XHR9O1xuXHRcdH07XG5cblx0XHR0aGlzLnNlbGVjdGVkTGFuZ3VhZ2UgPSBsYW5nY29kZTtcblx0fTtcblxuXHR0aGlzLmdldCA9IGZ1bmN0aW9uKGtleSkge1xuXHRcdGxldCBzdHI7XG5cdFx0aWYgKHRoaXMucGhyYXNlc1t0aGlzLnNlbGVjdGVkTGFuZ3VhZ2VdKSBzdHIgPSB0aGlzLnBocmFzZXNbdGhpcy5zZWxlY3RlZExhbmd1YWdlXVtrZXldO1xuXG4gICAgc3RyID0gKHN0ciB8fCBrZXkpXG5cdFx0cmV0dXJuIHN0cjtcbn1cbn1cbmxldCBtdWx0aWxhbmc7XG5cblxuZnVuY3Rpb24gb25Mb2FkKCkge1xuXG4gIG11bHRpbGFuZyA9IG5ldyBNdWx0aUxhbmcoJ2RhdGFMYW5nLmpzb24nLCAnZW4nKTtcbn1cblxuZnVuY3Rpb24gbGFuZ1NlbGVjdENoYW5nZShzZWwpIHtcbiAgbXVsdGlsYW5nLnNldExhbmd1YWdlKHNlbC52YWx1ZSk7XG4gIHJlZnJlc2hMYWJlbHMoKTtcbn1cblxuZnVuY3Rpb24gcmVmcmVzaExhYmVscygpIHtcbiAgbGV0IGFsbG5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWxhbmddXCIpO1xuXG4gIFxuICBmb3IgKGxldCBpPTAsIG1heD1hbGxub2Rlcy5sZW5ndGg7IGkgPCBtYXg7IGkrKykge1xuICAgIGxldCBpZG5hbWUgPSBhbGxub2Rlc1tpXS5kYXRhc2V0Lmxhbmc7XG4gICAgaWYgKGlkbmFtZSAhPSAnJykge1xuICAgICAgYWxsbm9kZXNbaV0udGV4dENvbnRlbnQgPSBtdWx0aWxhbmcuZ2V0KGlkbmFtZSk7XG4gICAgfTtcbiAgfTtcbn1cblxuICBsYW5nQnRucy5mb3JFYWNoKGJ0biA9PiBcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgIGxhbmdTZWxlY3RDaGFuZ2UoZS50YXJnZXQpXG5cbiAgfSlcbiAgKVxuXG4gIGJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9uTG9hZCgpKVxuICBsYW5nQnRucy5mb3JFYWNoKGJ0biA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdGxhbmdMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZS1sYW5nJylcbiAgfSkpXG5cblxuICAvLyBGb290ZXIgY3VycmVudCB5ZWFyXG5cbmNvbnN0IGZvb3RlclllYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyX19mb290LXllYXInKVxuY29uc3QgaGFuZGxlQ3VycmVudFllYXIgPSAoKSA9PiB7XG5cdGNvbnN0IHllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKClcblx0Zm9vdGVyWWVhci5pbm5lclRleHQgPSB5ZWFyXG59XG5cbmhhbmRsZUN1cnJlbnRZZWFyKCkiXX0=
